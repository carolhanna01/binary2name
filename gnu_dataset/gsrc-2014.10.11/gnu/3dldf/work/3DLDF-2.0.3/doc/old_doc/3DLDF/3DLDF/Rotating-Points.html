<html lang="en">
<head>
<title>Rotating Points - 3DLDF User and Reference Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="3DLDF User and Reference Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Transforming-Points.html#Transforming-Points" title="Transforming Points">
<link rel="prev" href="Shearing-Points.html#Shearing-Points" title="Shearing Points">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This is the 3DLDF User and Reference Manual, edition 1.1.5.1 for
3DLDF 1.1.5.1.
This manual was last updated on
16 January 2004.

3DLDF is a GNU package for three-dimensional drawing with MetaPost
output.
The author is Laurence D. Finston.

Copyright (C) 2003, 2004 , 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.2 or any later version published by the Free Software
     Foundation; with no Invariant Sections, no Front-Cover Texts, and
     no Back-Cover Texts.  A copy of the license is included in the
     section entitled ``GNU Free Documentation License''.
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Rotating-Points"></a>
<p>
Previous:&nbsp;<a rel="previous" accesskey="p" href="Shearing-Points.html#Shearing-Points">Shearing Points</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Transforming-Points.html#Transforming-Points">Transforming Points</a>
<hr>
</div>

<h3 class="section">3.4 Rotating</h3>

<!-- !! TO DO:  Make illustration. -->
<p>The function <code>rotate()</code> rotates a <code>Point</code> about one or more of
the main axes. 
It takes three <code>real</code> arguments, specifying the
angles of rotation in degrees about the x, y, and z-axes respectively. 
Only the first argument is required, the other two are 0 by default.  If
rotation about the y-axis, or the y and z-axes only are required, then 0
must be used as a placeholder for the first and possibly the second
argument.

<pre class="example">     Point p(0, 1);
     p.rotate(90);
     p.show("p:");
     -| p: (0, 0, -1)
     p.rotate(0, 90);
     p.show("p:");
     -| p: (1, 0, 0)
     p.rotate(0, 0, 90);
     p.show("p:");
     -| p: (0, 1, 0)
</pre>
   <p>The rotations are performed successively about the
x, y, and z-axes.  However, rotation is not a commutative
operation, so if rotation about the main axes in a different
order is required, then <code>rotate()</code> must be invoked more than once:

<pre class="example">     Point A(2, 3, 4);
     Point B(A);
     A.rotate(30, 60, 90);
     A.show("A:");
     -| A: (-4.59808, -0.700962, 2.7141)
     B.rotate(0, 0, 90);
     B.rotate(0, 60);
     B.rotate(30);
     B.show("B:");
     -| B: (-4.9641, 1.43301, -1.51795)
</pre>
   <p>Rotation need not be about the main axes;  it can also be performed
about a line defined by two <code>Points</code>.  The function <code>rotate()</code>
with two <code>Point</code> arguments and a <code>real</code> argument for the
angle of rotation (in degrees) about the axis.  The <code>real</code> argument
is optional, with
180 degrees

   <p>as the default.

<!-- !! TO DO:  Simplify this example.  How did I get the original values -->
<!-- for @code{p0} and @code{p1}? -->
<!-- Make illustration larger, put values in illustration. -->
<pre class="example">     Point p0 (-1.06066, 0, 1.06066);
     Point p1 (1.06066, 0, -1.06066);
     p1 *= p0.rotate(0, 30, 30);
     p0.show("p0:");
     -| p0: (-1.25477, -0.724444, 0.388228)
     p1.show("p1:");
     -| p1: (1.25477, 0.724444, -0.388228)
     p0.draw(p1);
     Point p2(1.06066, 0, 1.06066);
     p2.show("p2:");
     -| p2: (1.06066, 0, 1.06066)
     Point p3(p2);
     p3.rotate(p1, p0, 45);
     p3.show("p3:");
     -| p3 (1.09721, 1.15036, 1.17879)
     Point p4(p2);
     p4.rotate(p1, p0, 90);
     p4.show("p4:");
     -| p4: (0.882625, 2.05122, 0.485242)
     Point p5(p2);
     p5.rotate(p1, p0, 135);
     p5.show("p5:");
     -| p5: (0.542606, 2.17488, -0.613716)
     Point p6(p2);
     p6.rotate(p1, p0);
     p6.show("p6:");
     -| p6: (0.276332, 1.44889, -1.47433)
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF2.png"
alt="[Figure 2. Not displayed.]" 
/>
<br>
<br>
Fig. 2. 
<br>
</p>

   <p><a name="index-bugs-34"></a>I have sometimes gotten erroneous results using <code>rotate()</code> for
rotation about two <code>Points</code>.  It's usually worked to reverse the
order of the <code>Point</code> arguments, or to change sign of the angle
argument.  I think I've fixed the problem, though.

<!-- chapter Transforms -->
<!-- gstransf.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
   </body></html>

