<html lang="en">
<head>
<title>Global Constants and Variables - 3DLDF User and Reference Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="3DLDF User and Reference Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="prev" href="Typedefs-and-Utility-Structures.html#Typedefs-and-Utility-Structures" title="Typedefs and Utility Structures">
<link rel="next" href="Dynamic-Allocation-of-Shapes.html#Dynamic-Allocation-of-Shapes" title="Dynamic Allocation of Shapes">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This is the 3DLDF User and Reference Manual, edition 1.1.5.1 for
3DLDF 1.1.5.1.
This manual was last updated on
16 January 2004.

3DLDF is a GNU package for three-dimensional drawing with MetaPost
output.
The author is Laurence D. Finston.

Copyright (C) 2003, 2004 , 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.2 or any later version published by the Free Software
     Foundation; with no Invariant Sections, no Front-Cover Texts, and
     no Back-Cover Texts.  A copy of the license is included in the
     section entitled ``GNU Free Documentation License''.
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Global-Constants-and-Variables"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Dynamic-Allocation-of-Shapes.html#Dynamic-Allocation-of-Shapes">Dynamic Allocation of Shapes</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Typedefs-and-Utility-Structures.html#Typedefs-and-Utility-Structures">Typedefs and Utility Structures</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="index.html#Top">Top</a>
<hr>
</div>

<h2 class="chapter">13 Global Constants and Variables</h2>

<p>The global constants and variables described in this chapter are
found in <samp><span class="file">pspglb.web</span></samp>.  Others, of types
defined in 3DLDF, are described in subsequent chapters.

<div class="defun">
&mdash; Constants: bool <b>ldf_real_float</b><var><a name="index-ldf_005freal_005ffloat-140"></a></var><br>
&mdash; : bool <b>ldf_real_double</b><var><a name="index-ldf_005freal_005fdouble-141"></a></var><br>
<blockquote><p>Set to 0 or 1 to match the values of the preprocessor macros
<code>LDF_REAL_FLOAT</code> and <code>LDF_REAL_DOUBLE</code>.  The latter are used
for conditional compilation and determine whether <code>real</code> is
&ldquo;typedeffed&rdquo; to <code>float</code> or <code>double</code>, i.e., whether
<code>real</code> is made to be a synonym of <code>float</code> or <code>double</code>
using <code>typedef</code>.

        <p><code>ldf_real_float</code> and <code>ldf_real_double</code> can be used to control
conditional expressions in non-conditionally compiled code. 
</p></blockquote></div>

<div class="defun">
&mdash; Constant: real <b>PI</b><var><a name="index-PI-142"></a></var><br>
<blockquote><p>The value of <code>PI</code>
is calculated as
4.0 * arctan(1.0). 
I believe that a preprocessor macro &ldquo;<code>PI</code>&rdquo; was
available when I compiled 3DLDF using the DEC C++
 compiler, and that
it wasn't, when I used GNU CC under Linux, but I'm no longer sure. 
</p></blockquote></div>

<div class="defun">
&mdash; Variable: valarray &lt;real&gt; <b>null_coordinates</b><var><a name="index-null_005fcoordinates-143"></a></var><br>
<blockquote><p>Contains four elements, all 0.  Used for resetting the sets of
coordinates belonging to <code>Points</code>, but only when the DEC C++

        <p>compiler is used.  This doesn't work when GCC is used. 
</p></blockquote></div>

<div class="defun">
&mdash; Constant: real <b>INVALID_REAL</b><var><a name="index-INVALID_005fREAL-144"></a></var><br>
<blockquote><p>Actually, <code>INVALID_REAL</code> is the largest possible <code>real</code> value
(i.e., <code>float</code> or <code>double</code>) on a given machine. 
So, from the point of view of the compiler, it's not invalid at all. 
However, 3DLDF uses it to indicate failure of some kind.  For example,
the return value of a function returning <code>real</code> can be compared
with <code>INVALID_REAL</code> to check whether the function succeeded or
failed.

        <p>An alternative approach would be to use the exception handling
facilities of C++
.  I do use these, but only in a couple of places,
so far. 
</p></blockquote></div>

<div class="defun">
&mdash; Constant: real_pair <b>INVALID_REAL_PAIR</b><var><a name="index-INVALID_005fREAL_005fPAIR-145"></a></var><br>
<blockquote><p><code>first</code> and <code>second</code> are both <code>INVALID_REAL</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Constant: real <b>INVALID_REAL_SHORT</b><var><a name="index-INVALID_005fREAL_005fSHORT-146"></a></var><br>
<blockquote><p><code>first</code> is <code>INVALID_REAL</code> and <code>second</code> is 0. 
</p></blockquote></div>

<div class="defun">
&mdash; Variable: real <b>MAX_REAL</b><var><a name="index-MAX_005fREAL-147"></a></var><br>
<blockquote><p><a name="index-system-dependencies-148"></a>The largest <code>real</code> value permitted in the the elements of
<code>Transforms</code> and the coordinates of
<code>Points</code>.  It is the second largest <code>real</code> value (i.e.,
<code>float</code> or <code>double</code>) on a given machine (<code>INVALID_REAL</code>
is the largest).

        <p><code>MAX_REAL</code> is a variable, but it should be used like a constant. 
In other words, users should never reset its value.  It can't be
declared <code>const</code> because its value must be calculated using
function calls, which can't be done before the entry point of the
program, i.e., <code>main()</code>.  Therefore, the value of <code>MAX_REAL</code>
is calculated at the beginning of <code>main()</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Variable: real <b>MAX_REAL_SQRT</b><var><a name="index-MAX_005fREAL_005fSQRT-149"></a></var><br>
<blockquote><p>The square root of <code>MAX_REAL</code>.

        <p><code>MAX_REAL_SQRT</code> is a variable, but it should be used like a
constant. In other words, users should never reset its value.  It can't
be declared <code>const</code> because its value is calculated using the
<code>sqrt()</code> function,
which can't be done before the entry point of the
program, i.e., <code>main()</code>.  Therefore, the value of
<code>MAX_REAL_SQRT</code> is set after <code>MAX_REAL</code> is calculated, at the
beginning of <code>main()</code>.

        <p><code>MAX_REAL_SQRT</code> is used in <code>Point::magnitude()</code>
(see <a href="Vector-Operations.html#Vector-Operations">Vector Operations</a>).  The magnitude of a <code>Point</code> is found
by using the formula
\sqrtx^2 + y^2 + z^2. 
x, y, and z are all tested against
<code>MAX_REAL_SQRT</code> to ensure that
x^2, y^2, and z^2
will all be
less than or equal to <code>MAX_REAL</code> before trying to calculate them.

     <!-- !! TO DO. -->
        <p>Metafont implements an operation called <dfn>Pythagorean addition</dfn>,
notated as &ldquo;<code>++</code>&rdquo;which
can be used to calculate distances without first squaring and then
taking square roots:<!-- !! GET REF., Metafont the program. -->
<a rel="footnote" href="#fn-1" name="fnd-1"><sup>1</sup></a>
a++b == \sqrt(a^2 + b^2)
and
a++b++c == \sqrt(a^2 + b^2 + c^2). 
This makes it possible to calculate distances for greater values of
a, b, and c, that would otherwise cause floating point errors. 
Metafont also implements the inverse operation
<dfn>Pythagorean subtraction</dfn>, notated as &ldquo;<code>+-+</code>&rdquo;:
<!-- !! TO DO:   There's an ugly space before ``a+-+b'' in the TeX -->
<!-- output.  It probably has to do with finding the best line breaks. -->
<!-- There's not much leeway, because of the shortness of the paragraph. -->
<!-- That's my interpretation, anyway.  LDF 2003.12.08. -->
<!-- It might be worthwhile trying to find out how Knuth did it for _The -->
<!-- METAFONTbook_.  LDF 2003.12.08. -->
a+-+b == \sqrt(a^2 - b^2). 
Unfortunately, 3DLDF implements neither Pythagorean addition
nor subtraction as yet, but it's on my
<a name="index-TO-DO-150"></a>list of &ldquo;things to do&rdquo;. 
</p></blockquote></div>

<!-- creatnew.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
   <div class="footnote">
<hr>
<h4>Footnotes</h4><p class="footnote"><small>[<a name="fn-1" href="#fnd-1">1</a>]</small> Knuth, Donald E. <cite>The Metafontbook</cite>, p. 66.</p>

   <hr></div>

   </body></html>

