<html lang="en">
<head>
<title>Metafont and MetaPost - 3DLDF User and Reference Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="3DLDF User and Reference Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Introduction.html#Introduction" title="Introduction">
<link rel="prev" href="CWEB-Documentation.html#CWEB-Documentation" title="CWEB Documentation">
<link rel="next" href="Caveats.html#Caveats" title="Caveats">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This is the 3DLDF User and Reference Manual, edition 1.1.5.1 for
3DLDF 1.1.5.1.
This manual was last updated on
16 January 2004.

3DLDF is a GNU package for three-dimensional drawing with MetaPost
output.
The author is Laurence D. Finston.

Copyright (C) 2003, 2004 , 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.2 or any later version published by the Free Software
     Foundation; with no Invariant Sections, no Front-Cover Texts, and
     no Back-Cover Texts.  A copy of the license is included in the
     section entitled ``GNU Free Documentation License''.
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Metafont-and-MetaPost"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Caveats.html#Caveats">Caveats</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="CWEB-Documentation.html#CWEB-Documentation">CWEB Documentation</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Introduction.html#Introduction">Introduction</a>
<hr>
</div>

<h3 class="section">1.4 Metafont and MetaPost</h3>

<p><a name="index-Metafont-12"></a>Metafont is  a system created by Donald E. Knuth for generating fonts,
in particular for use with TeX, his well-known
typsetting system.<a rel="footnote" href="#fn-1" name="fnd-1"><sup>1</sup></a>
Expressed in a
somewhat simplified way,  Metafont is a system for programming
curves, which  are then  digitized and  output in  the form of
run-time encoded bitmaps. (See Knuth's <cite>The Metafontbook</cite> for more
information).

   <p><a name="index-MetaPost-13"></a><a name="index-EPS-_0028Encapsulated-PostScript_0029-14"></a><a name="index-Encapsulated-PostScript-_0028EPS_0029-15"></a>John D. Hobby  modified  Metafont's  source  code  to  create
MetaPost, which  functions in  much the same way, but outputs
encapsulated PostScript (EPS) files instead of bitmaps.  MetaPost is
very  useful   for  creating  graphics  and  is  a  convenient
interface to  PostScript.   It is also easy both to imbed
TeX code  in MetaPost  programs, for instance, for typesetting
labels, and  to include  MetaPost  graphics  in  ordinary  TeX
files, e.g., by using <samp><span class="command">dvips</span></samp>.<a rel="footnote" href="#fn-2" name="fnd-2"><sup>2</sup></a>
Apart from simply printing the PostScript file output by
<samp><span class="command">dvips</span></samp>, there are many programs that can process ordinary
or encapsulated PostScript files and convert them to other formats. 
Just two of the many possibilities are ImageMagick and GIMP, both of
which can be used to create animations from MetaPost graphics. 
<!-- !! GET REFERENCES TO IMAGEMAGICK AND GIMP!!  Maybe someday I'll do -->
<!-- this.  At the moment, I don't feel like looking for any more references. -->

   <p>However, MetaPost  inherited  a  significant  limitation  from
Metafont:  it's not possible to use it for making
three-dimensional graphics, except in a very limited way. 
One insuperable problem is the severe limitation on the magnitude
of user-defined numerical variables in Metafont and
MetaPost.<a rel="footnote" href="#fn-3" name="fnd-3"><sup>3</sup></a>
This
made  sense for Metafont's and MetaPost's original
purposes,  but   they  make   it  impossible  to  perform  the
calculations needed for 3D graphics.

   <p>Another problem is the data types defined in Metafont:  Points
are  represented   as  pairs   of  real   values  and   affine
transformations as sets of 6 real values.  This corresponds to
the representation of points and affine transformations in the
plane as  a two-element  vector on  the one  hand  and  a  six
element matrix  on the  other.  While  it  is
possible to  work around  the  limitation  imposed  by  having
points be  represented by  only two  values, it is
impracticable in   the   case   of   the
transformations.

   <p>For these reasons, I decided to write a program that would behave more
or less like Metafont, but with suitable extensions, and the ability to
handle three dimensional data;  namely 3DLDF.  It stores the data and
performs the transformations and other necessary calculations and is not
subject to the limitations of MetaPost and its data types.  Upon output,
it performs a perspective transformation, converting the 3D image into a
2D one.  The latter can now be expressed as an ordinary MetaPost
program, so 3DLDF writes its output as MetaPost code to a file.

   <p>In the following, it may be a little unclear why I sometimes refer to
Metafont and sometimes to MetaPost.  The reason is that Metafont
inherited much of its functionality from Metafont.  Certain operations
in Metafont have no meaning in MetaPost and so have been removed, while
MetaPost's function of interfacing with PostScript has caused other
operations to be added.  For example, in MetaPost, <code>color</code> is a
data type, but not in Metafont.  Unless otherwise stated, when I refer to
Metafont, it can be assumed that what I say applies to MetaPost as well. 
However, when I refer to MetaPost, it will generally be in connection
with features specific to MetaPost.

   <div class="footnote">
<hr>
<h4>Footnotes</h4><p class="footnote"><small>[<a name="fn-1" href="#fnd-1">1</a>]</small> Knuth, Donald E. <em>The
TeXbook</em>. Computers and Typesetting; A. 
Addison-Wesley Publishing Company. Reading, Massachusetts 1986.</p>

   <p class="footnote"><small>[<a name="fn-2" href="#fnd-2">2</a>]</small> Rokicki, Tomas. <em>Dvips: A
DVI-to-PostScript Translator</em> February 1997.  Available from CTAN. 
See <a href="Sources-of-Information.html#Sources-of-Information">Sources of Information</a>.</p>

   <p class="footnote"><small>[<a name="fn-3" href="#fnd-3">3</a>]</small> &ldquo;&lt;<small class="dots">...</small>&gt;
METAFONT deals only with numbers in a limited
range:  A numeric token must be less than 4096, and its value is always
rounded to the nearest  multiple of
1 / 65536.&rdquo;  Knuth, The METAFONTbook, p. 50. 
</p>

   <hr></div>

   </body></html>

