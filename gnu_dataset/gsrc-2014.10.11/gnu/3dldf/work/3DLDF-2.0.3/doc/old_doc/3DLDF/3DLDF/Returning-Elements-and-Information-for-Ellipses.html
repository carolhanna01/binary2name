<html lang="en">
<head>
<title>Returning Elements and Information for Ellipses - 3DLDF User and Reference Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="3DLDF User and Reference Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Ellipse-Reference.html#Ellipse-Reference" title="Ellipse Reference">
<link rel="prev" href="Querying-Ellipses.html#Querying-Ellipses" title="Querying Ellipses">
<link rel="next" href="Ellipse-Intersections.html#Ellipse-Intersections" title="Ellipse Intersections">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This is the 3DLDF User and Reference Manual, edition 1.1.5.1 for
3DLDF 1.1.5.1.
This manual was last updated on
16 January 2004.

3DLDF is a GNU package for three-dimensional drawing with MetaPost
output.
The author is Laurence D. Finston.

Copyright (C) 2003, 2004 , 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.2 or any later version published by the Free Software
     Foundation; with no Invariant Sections, no Front-Cover Texts, and
     no Back-Cover Texts.  A copy of the license is included in the
     section entitled ``GNU Free Documentation License''.
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Returning-Elements-and-Information-for-Ellipses"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Ellipse-Intersections.html#Ellipse-Intersections">Ellipse Intersections</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Querying-Ellipses.html#Querying-Ellipses">Querying Ellipses</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Ellipse-Reference.html#Ellipse-Reference">Ellipse Reference</a>
<hr>
</div>

<h3 class="section">31.8 Returning Elements and Information</h3>

<div class="defun">
&mdash; Virtual function: Point&amp; <b>get_center</b> (<code>void</code>)<var><a name="index-get_005fcenter-738"></a></var><br>
&mdash; <code>const</code> virtual function: Point <b>get_center</b> (<code>void</code>)<var><a name="index-get_005fcenter-739"></a></var><br>
<blockquote><p>These functions return <code>center</code>. 
<!-- !! TO DO: Add example. -->
</p></blockquote></div>

<div class="defun">
&mdash; Function: const Point&amp; <b>get_focus</b> (<var>const unsigned short s</var>)<var><a name="index-get_005ffocus-740"></a></var><br>
&mdash; <code>const</code> function: Point <b>get_focus</b> (<var>const unsigned short s</var>)<var><a name="index-get_005ffocus-741"></a></var><br>
<blockquote><p>These functions return <code>focus0</code> or <code>focus1</code>, depending on the
value of <var>s</var>, which must be 0 or 1.  If <var>s</var> is not 0 or 1,
<code>get_focus()</code> returns <code>INVALID_POINT</code>. 
<!-- !! TO DO: Add example. -->
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: real <b>get_linear_eccentricity</b> (<var>void</var>)<var><a name="index-get_005flinear_005feccentricity-742"></a></var><br>
<blockquote><p>Returns <code>linear_eccentricity</code>. 
<!-- !! TO DO: Add example. -->
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: real <b>get_numerical_eccentricity</b> (<var>void</var>)<var><a name="index-get_005fnumerical_005feccentricity-743"></a></var><br>
<blockquote><p>Returns <code>numerical_eccentricity</code>. 
<!-- !! TO DO: Add example. -->
</p></blockquote></div>

<div class="defun">
&mdash; Function: real <b>get_axis_v</b> (<code>void</code>)<var><a name="index-get_005faxis_005fv-744"></a></var><br>
&mdash; <code>const</code> function: real <b>get_axis_v</b> (<code>void</code>)<var><a name="index-get_005faxis_005fv-745"></a></var><br>
<blockquote><p>Calculates and returns the value of <code>axis_h</code>.

        <p><code>get_axis_v()</code> first checks if the <code>Ellipse</code> is still
elliptical, using <code>is_elliptical()</code>
(see <a href="Querying-Ellipses.html#Querying-Ellipses">Ellipse Reference; Querying</a>). 
Operations such as <code>scale()</code> and <code>shear()</code> can
cause an <code>Ellipse</code> to become non-elliptical. 
If this is the case, this function returns <code>INVALID_REAL</code>.

        <p>If the <code>Ellipse</code> is still elliptical, <code>axis_v</code> is
recalculated and returned.  In the non-<code>const</code> version,
<code>axis_v</code> is also reset to the new value. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: real <b>get_axis_h</b> (<code>void</code>)<var><a name="index-get_005faxis_005fh-746"></a></var><br>
&mdash; <code>const</code> function: real <b>get_axis_h</b> (<code>void</code>)<var><a name="index-get_005faxis_005fh-747"></a></var><br>
<blockquote><p>Calculates and returns the value of <code>axis_h</code>.

        <p><code>get_axis_h()</code> first checks if the <code>Ellipse</code> is still
elliptical, using <code>is_elliptical()</code>
(see <a href="Querying-Ellipses.html#Querying-Ellipses">Ellipse Reference; Querying</a>). 
Operations such as <code>scale()</code> and <code>shear()</code> can
cause an <code>Ellipse</code> to become non-elliptical. 
If this is the case, this function returns <code>INVALID_REAL</code>.

        <p>If the <code>Ellipse</code> is still elliptical, <code>axis_h</code> is
recalculated and returned.  In the non-<code>const</code> version,
<code>axis_h</code> is also reset to the new value. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> virtual function: signed short <b>location</b> (<var>Point p</var>)<var><a name="index-location-748"></a></var><br>
<blockquote><p>Returns a value l indicating the location of the <code>Point</code> argument
p with respect to the <code>Ellipse</code>.

        <p>Let e stand for the <code>Ellipse</code>. 
The return values are as follows:

          <dl>
<dt>0<dd>p lies on the perimeter of e.

          <br><dt>1<dd>p lies in the plane of e, within its perimeter.

          <br><dt>-1<dd>p lies in the plane of e, outside its perimeter.

          <br><dt>-2<dd>p and e do not lie in the same plane.

          <br><dt>-3<dd>e is not elliptical, possibly due to having been transformed. 
</dl>

     <pre class="example">          Ellipse e(origin, 3, 5, 45, 15, 3);
          e.shift(2, 1, 1);
          Point A = e.get_point(7);
          cout &lt;&lt; e.location(A);
          -| 0
          Point B = center.mediate(e.get_point(2));
          cout &lt;&lt; e.location(B);
          -| 1
          Point C = center.mediate(e.get_point(2), 1.5);
          cout &lt;&lt; e.location(C);
          -| -1
          Point D = A;
          D.shift(-2, 0, 4);
          e.location(D);
          -| WARNING! In Ellipse::location():
             Point doesn't lie in plane of Ellipse.
             Returning -2.
          e.scale(1.5, 0, 1.5);
          e.location(A);
          -| WARNING! In Ellipse::do_transform(const Transform&amp;):
             This transformation has made *this non-elliptical!
          
             ERROR! In Ellipse::location():
             Ellipse is non-elliptical. Returning -3.
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF164.png"
alt="[Figure 164. Not displayed.]" 
/>
<br>
<br>
Fig. 164. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: Point <b>angle_point</b> (<var>real angle</var>)<var><a name="index-angle_005fpoint-749"></a></var><br>
<blockquote><p>Returns a point on the <code>Ellipse</code> given an angle. 
A <code>Point</code> <var>p</var> is set to the zeroth <code>Point</code> on the <code>Ellipse</code>
and rotated about the line from the center of the <code>Ellipse</code> in the
direction of the normal to the plane of the <code>Ellipse</code>. 
Then, the intersection of the ray from the center through
<var>p</var> and the perimeter of the <code>Ellipse</code> is returned.

     <pre class="example">          Ellipse e(origin, 6, 4);
          Point P = e.angle_point(135);
          current_picture.output(Projections::PARALLEL_X_Z);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF165.png"
alt="[Figure 165. Not displayed.]" 
/>
<br>
<br>
Fig. 165. 
<br>
</p>

        <p>[next figure]
 demonstrates, that the rotation is unfortunately not always
in the direction one would prefer.  I don't have a solution to this
problem yet.

     <pre class="example">          Ellipse e(origin, 6, 4, 90);
          Point P = e.angle_point(135);
          Point Q = e.angle_point(-135);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF166.png"
alt="[Figure 166. Not displayed.]" 
/>
<br>
<br>
Fig. 166. 
<br>
</p>

        </blockquote></div>

   </body></html>

