<html lang="en">
<head>
<title>Illustrations - 3DLDF User and Reference Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="3DLDF User and Reference Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="About-This-Manual.html#About-This-Manual" title="About This Manual">
<link rel="prev" href="Manual-Conventions.html#Manual-Conventions" title="Manual Conventions">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This is the 3DLDF User and Reference Manual, edition 1.1.5.1 for
3DLDF 1.1.5.1.
This manual was last updated on
16 January 2004.

3DLDF is a GNU package for three-dimensional drawing with MetaPost
output.
The author is Laurence D. Finston.

Copyright (C) 2003, 2004 , 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.2 or any later version published by the Free Software
     Foundation; with no Invariant Sections, no Front-Cover Texts, and
     no Back-Cover Texts.  A copy of the license is included in the
     section entitled ``GNU Free Documentation License''.
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Illustrations"></a>
<p>
Previous:&nbsp;<a rel="previous" accesskey="p" href="Manual-Conventions.html#Manual-Conventions">Manual Conventions</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="About-This-Manual.html#About-This-Manual">About This Manual</a>
<hr>
</div>

<h4 class="subsection">1.2.2 Illustrations</h4>

<p>The illustrations in this manual have been created using 3DLDF.  The
code that generates them is in the Texinfo files themselves, that
contain the text of the manual.  Texinfo is based on TeX, so it's
possible to make use of the latter's facility for writing ASCII text to
files using TeX's <code>\write</code> command.

   <p>The file <samp><span class="file">3DLDF-1.1.5.1/CWEB/exampman.web</span></samp> contains the
C++
 code, and the file <samp><span class="file">3DLDF-1.1.5.1/CWEB/examples.mp</span></samp>
contains the MetaPost code for generating the illustrations. 
3DLDF was built using GCC 2.95 when the illustrations were generated. 
For some reason, GCC 3.3 has difficulty with them.  It works to generate
them in batches of about 50 with GCC 3.3.

   <p><a name="index-PNG-_0028Portable-Network-Graphics_0029-6"></a><a name="index-Portable-Network-Graphics-_0028PNG_0029-7"></a><a name="index-PS-_0028PostScript_0029-8"></a><a name="index-PostScript-_0028PS_0029-9"></a><a name="index-EPS-_0028Encapsulated-PostScript_0029-10"></a><a name="index-Encapsulated-PostScript-_0028EPS_0029-11"></a>MetaPost outputs Encapsulated PostScript files.  These can be included
in TeX files, as explained below.  However, in order to display the
illustrations in the HTML version of this manual, I had to convert them
to <a href="http://www.libpng.org/pub/png/index.html">PNG (&ldquo;Portable Network Graphics&rdquo;) format</a>. 
See <a href="Converting-EPS-Files.html#Converting-EPS-Files">Converting EPS Files</a>, for instructions on how to do this.

   <p>Please note that the illustrations cannot be shown in the Info output
format!

   <p>If you have problems including the illustrations in the printed version,
for example, if your
installation doesn't have <samp><span class="command">dvips</span></samp>, look for the following lines
in <samp><span class="file">3DLDF.texi</span></samp>:

<pre class="example">     \doepsftrue    %% One of these two lines should be commented-out.
     %\doepsffalse
</pre>
   <p class="noindent">Now, remove the &lsquo;<samp><span class="samp">%</span></samp>&rsquo; from in front of &lsquo;<samp><span class="samp">\doepsffalse</span></samp>&rsquo; and put
one in front of &lsquo;<samp><span class="samp">\doepsftrue</span></samp>&rsquo;.  This will prevent the illustrations
from being included.  This should only be done as a last resort,
however, because it will make it difficult if
not impossible to understand this manual.

   <p>The C++
 code in an example is not always the complete code used to
create the illustration that follows it, since the latter may be
cluttered with commands that would detract from the clarity of the
example.  The actual code used always follows the example in the Texinfo
source file, so the latter may be referred to, if the reader wishes
to see exactly what code was used to generate the illustration.

   <p>You may want to skip the following paragraphs in this section, if you're
reading this manual for the
first time.  Don't worry if you don't understand it, it's meaning should
become clear after reading the manual and some experience with
using 3DLDF.

   <p>The file <samp><span class="file">3DLDF.texi</span></samp> in the directory
<samp><span class="file">3DLDF-1.1.5.1/DOC/TEXINFO</span></samp>, the driver file for this manual, contains
the following TeX code:

<pre class="example">     \newif\ifmakeexamples
     \makeexamplestrue     %% One of these two lines should be commented-out.
     %\makeexamplesfalse
</pre>
   <p class="noindent">When <samp><span class="command">texi2dvi</span></samp> is run on <samp><span class="file">3DLDF.texi</span></samp>,
<code>\makeexamplestrue</code> is not commented-out, and
<code>\makeexamplesfalse</code> is,
the C++
 code for the illustrations is written to the file
<samp><span class="file">examples.web</span></samp>. 
If the EPS files don't already exist (in the directory
<samp><span class="file">3DLDF-1.1.5.1/DOC/TEXINFO/EPS</span></samp>),
the TeX macro <code>\PEX</code>,
which includes them in the Texinfo files, will signal an error each time
it can't find one.  Just type &lsquo;<samp><span class="samp">s</span></samp>&rsquo; at the command line to tell
TeX to keep going. 
If you want to be sure that these are indeed the only errors, you can
type &lsquo;<samp><span class="samp">&lt;RETURN&gt;</span></samp>&rsquo; after each one instead.

   <p><samp><span class="command">texi2dvi 3DLDF.texi</span></samp> also generates the file
<samp><span class="file">extext.tex</span></samp>, which contains TeX code for including the
illustrations by themselves.

   <p><samp><span class="file">examples.web</span></samp> must now be moved to <samp><span class="file">3DLDF-1.1.5.1/CWEB/</span></samp> and
ctangled, <samp><span class="file">examples.c</span></samp> must compiled,
and 3DLDF must be relinked.  <samp><span class="command">ctangle examples</span></samp> also generates
the header file <samp><span class="file">example.h</span></samp>, which is included
in <samp><span class="file">main.web</span></samp>.  Therefore, if the contents of <samp><span class="file">examples.h</span></samp> have
changed since the last time <samp><span class="file">main.web</span></samp> was ctangled,
<samp><span class="file">main.web</span></samp> will have to be ctangled, and <samp><span class="file">main.c</span></samp> recompiled,
before <samp><span class="file">3dldf</span></samp> is relinked.<a rel="footnote" href="#fn-1" name="fnd-1"><sup>1</sup></a>

   <p>Running <samp><span class="command">3dldf</span></samp> and MetaPost now
generates the EPS (Encapsulated PostScript) files
<samp><span class="file">3DLDFmp.1</span></samp> through (currently) <samp><span class="file">3DLDFmp.199</span></samp>
for the illustrations.  They must be moved to
<samp><span class="file">3DLDF-1.1.5.1/DOC/TEXINFO/EPS</span></samp>. 
Now, when <samp><span class="command">texi2dvi 3DLDF.texi</span></samp> is run again, the
<samp><span class="command">dvips</span></samp> command
&lsquo;<samp><span class="samp">\epsffile</span></samp>&rsquo; includes the EPS files for the illustrations in the
manual.  <samp><span class="file">3DLDF.texi</span></samp> includes the line &lsquo;<samp><span class="samp">\input epsf</span></samp>&rsquo;, so
that &lsquo;<samp><span class="samp">\epsffile</span></samp>&rsquo; works. 
Of course, <samp><span class="command">dvips</span></samp> (or some other program that does the
job) must be used to convert <samp><span class="file">3DLDF.dvi</span></samp> to  a PostScript file. 
To see exactly how this is done, take a look at the
<samp><span class="file">.texi</span></samp> source files of this manual.<a rel="footnote" href="#fn-2" name="fnd-2"><sup>2</sup></a>

   <p>In the <samp><span class="file">3DLDF.texi</span></samp> belonging to the 3DLDF distribution,
<code>\makeexamplestrue</code> will be commented-out, and
<code>makeexamplesfalse</code> won't be, because the EPS files for the
illustrations are included in the distribution.

   <p>The version of <samp><span class="file">examples.web</span></samp> in <samp><span class="file">3DLDF-1.1.5.1/CWEB</span></samp> merely
includes the files <samp><span class="file">subex1.web</span></samp> and <samp><span class="file">subex2.web</span></samp>. 
If you rename <samp><span class="file">3DLDF-1.1.5.1/CWEB/exampman.web</span></samp> to <samp><span class="file">examples.web</span></samp>,
you can generate the illustrations.

   <div class="footnote">
<hr>
<h4>Footnotes</h4><p class="footnote"><small>[<a name="fn-1" href="#fnd-1">1</a>]</small> <samp><span class="command">ctangle</span></samp> creates
<samp><span class="file">&lt;</span><i>filename</i><span class="file">&gt;.c</span></samp> from
<samp><i>&lt;filename&gt;</i><span class="file">.web</span></samp>,
so the compiler must compile the C++
 files
using the <samp><span class="option">-x c++</span></samp> option.  Otherwise, it would handle them as if
they contained C code.</p>

   <p class="footnote"><small>[<a name="fn-2" href="#fnd-2">2</a>]</small> If you want to try generating the illustrations yourself, you
can save a little run-time by calling <samp><span class="command">tex 3DLDF.texi</span></samp> the
first time, rather than <samp><span class="command">texi2dvi</span></samp>.  The latter program runs
TeX twice, because it needs two passes in order to generate the
contents, indexing, and cross reference information (and maybe some
other things, too).</p>

   <hr></div>

   </body></html>

