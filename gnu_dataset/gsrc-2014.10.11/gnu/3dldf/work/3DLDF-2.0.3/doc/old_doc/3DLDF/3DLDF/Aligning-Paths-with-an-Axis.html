<html lang="en">
<head>
<title>Aligning Paths with an Axis - 3DLDF User and Reference Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="3DLDF User and Reference Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Path-Reference.html#Path-Reference" title="Path Reference">
<link rel="prev" href="Affine-Transformations-for-Paths.html#Affine-Transformations-for-Paths" title="Affine Transformations for Paths">
<link rel="next" href="Applying-Transformations-to-Paths.html#Applying-Transformations-to-Paths" title="Applying Transformations to Paths">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This is the 3DLDF User and Reference Manual, edition 1.1.5.1 for
3DLDF 1.1.5.1.
This manual was last updated on
16 January 2004.

3DLDF is a GNU package for three-dimensional drawing with MetaPost
output.
The author is Laurence D. Finston.

Copyright (C) 2003, 2004 , 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.2 or any later version published by the Free Software
     Foundation; with no Invariant Sections, no Front-Cover Texts, and
     no Back-Cover Texts.  A copy of the license is included in the
     section entitled ``GNU Free Documentation License''.
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Aligning-Paths-with-an-Axis"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Applying-Transformations-to-Paths.html#Applying-Transformations-to-Paths">Applying Transformations to Paths</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Affine-Transformations-for-Paths.html#Affine-Transformations-for-Paths">Affine Transformations for Paths</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Path-Reference.html#Path-Reference">Path Reference</a>
<hr>
</div>

<h3 class="section">26.10 Aligning with an Axis</h3>

<div class="defun">
&mdash; <code>const</code> function: Transform <b>align_with_axis</b> ([<var>const char axis = 'z'</var>])<var><a name="index-align_005fwith_005faxis-581"></a></var><br>
&mdash; Function: Transform <b>align_with_axis</b> (<var>bool assign, </var>[<var>const char axis = 'z'</var>])<var><a name="index-align_005fwith_005faxis-582"></a></var><br>
&mdash; Function: Transform <b>align_with_axis</b> (<var>const Point&amp; p0, const Point&amp; p1, const char axis</var>)<var><a name="index-align_005fwith_005faxis-583"></a></var><br>
<blockquote><p>These functions return the <code>Transform</code> which, if applied to the
<code>Path</code>, would align it with the major axis indicated by the
<var>axis</var> argument.

        <p>The first and second versions can only be called
for <code>Paths</code> where <code>line_switch</code> is <code>true</code>.  The first
version is <code>const</code>, so the <code>Path</code> remains unchanged.  The second
version should only be called with <var>assign</var><code> = true</code>, so that the
<code>Transform</code> is applied to the <code>Path</code>, actually aligning it with
the axis indicated.  If the second version is called with
<var>assign</var><code> = false</code>, a warning message is issued to the standard error
output (<code>stderr</code>), since one might as well use the first version in
this case, but it won't do any harm.  The third version creates a
<code>Transform</code> <var>t</var> locally that would align the line from <var>p0</var> to
<var>p1</var> with the axis indicated, and applies <var>t</var> to the <code>Path</code>.

     <pre class="example">          Point A(2, 3, 2);
          Point B(-1, 1, 3);
          Path p(A, B);
          Transform t = p.align_with_axis(true, 'z');
          t.show("t:");
          -| t:
              -0.316   0.507  -0.802       0
                   0  -0.845  -0.535       0
              -0.949  -0.169   0.267       0
                2.53    1.86    2.67       1
          p *= t;
          p.show("p:");
          -| p:
             (2.53, 1.86, 2.67) -- (-1.02, 1.23, 3.67);
          
          Point C(1);
          C *= t.inverse();
          
          Path q;
          q += "..";
          q += C;
          
          for (int i = 0; i &lt; 15; ++i)
            {
              C.rotate(A, B, 360.0/16);
              q += C;
            }
          q.set_cycle(true);
          q.show("q:");
          -| q:
             (1.68, 3, 1.05) .. (1.9, 2.68, 1.06) ..
             (2.13, 2.4, 1.21) .. (2.35, 2.22, 1.48) ..
             (2.51, 2.15, 1.83) .. (2.59, 2.22, 2.21) ..
             (2.58, 2.4, 2.55) .. (2.49, 2.68, 2.81) ..
             (2.32, 3, 2.95) .. (2.1, 3.32, 2.94) ..
             (1.87, 3.6, 2.79) .. (1.65, 3.78, 2.52) ..
             (1.49, 3.85, 2.17) .. (1.41, 3.78, 1.79) ..
             (1.42, 3.6, 1.45) .. (1.51, 3.32, 1.19) .. cycle;
          q.align_with_axis(A, B, 'z');
          q.show("q:");
          -| q:
             (1, 0, 0) .. (0.924, 0.383, 0) ..
             (0.707, 0.707, 0) .. (0.383, 0.924, 0) ..
             (0, 1, 0) .. (-0.383, 0.924, 0) ..
             (-0.707, 0.707, 0) .. (-0.924, 0.383, 0) ..
             (-1, 0, 0) .. (-0.924, -0.383, 0) ..
             (-0.707, -0.707, 0) .. (-0.383, -0.924, 0) ..
             (0, -1, 0) .. (0.383, -0.924, 0) ..
             (0.707, -0.707, 0) .. (0.924, -0.383, 0) .. cycle;
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF119.png"
alt="[Figure 119. Not displayed.]" 
/>
<br>
<br>
Fig. 119. 
<br>
</p>

     </blockquote></div>

   </body></html>

