<html lang="en">
<head>
<title>The Perspective Projection - 3DLDF User and Reference Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="3DLDF User and Reference Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Projections.html#Projections" title="Projections">
<link rel="prev" href="Parallel-Projections.html#Parallel-Projections" title="Parallel Projections">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This is the 3DLDF User and Reference Manual, edition 1.1.5.1 for
3DLDF 1.1.5.1.
This manual was last updated on
16 January 2004.

3DLDF is a GNU package for three-dimensional drawing with MetaPost
output.
The author is Laurence D. Finston.

Copyright (C) 2003, 2004 , 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.2 or any later version published by the Free Software
     Foundation; with no Invariant Sections, no Front-Cover Texts, and
     no Back-Cover Texts.  A copy of the license is included in the
     section entitled ``GNU Free Documentation License''.
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="The-Perspective-Projection"></a>
<p>
Previous:&nbsp;<a rel="previous" accesskey="p" href="Parallel-Projections.html#Parallel-Projections">Parallel Projections</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Projections.html#Projections">Projections</a>
<hr>
</div>

<h4 class="subsection">9.1.2 The Perspective Projection</h4>

<p>The perspective projection obeys the laws of
<dfn>linear perspective</dfn>. 
In 3DLDF, it is performed by means of a
transformation, whose effect is, to the
best of my knowledge,
exactly equivalent to the result of a perspective projection done by
hand using vanishing points and rulers.

   <p>It is very helpful to the artist to understand the laws of linear
perspective, and to know how to make a perspective drawing by hand.<a rel="footnote" href="#fn-1" name="fnd-1"><sup>1</sup></a>
However, it is a very tedious and error-prone procedure (I know, I've
done it).  One of my main motivations for writing 3DLDF was so I
wouldn't have to do it anymore.

<!-- !! TO DO:  Mention somewhere, that the ground plane isn't important, -->
<!-- and that more could be said on the subject.  For example, what -->
<!-- happens when the line of sight is not parallel to the ground plane, -->
<!-- and how this is important when using rulers, but not when using -->
<!-- transformations.  LDF 2003.08.15. -->
   <p>[next figure]
 shows a perspective construction, the way it
could be done by hand. 
The point of view, or <dfn>focus</dfn> is located 6cm from
the picture plane, and 4cm above the ground (or x-z) plane at the point
(0, 4, -6). 
The rectangle R lies in the ground  plane, with the point r_0 at
(2, 0, 1.5).  The right side of R, with length = 2<span class="dmn">cm</span>
lies at an angle
of 40 to the ground line, which corresponds to the intersection line
of the ground plane with the picture plane, and the left side, with
length = 5<span class="dmn">cm</span>, at an angle of
90 degrees - 40 degrees = 50 degrees
to the ground line.

<!-- !! NOTE:  I haven't been able to get the colons lined up the way I'd -->
<!-- like for the explanations of the abbreviations.  LDF 2003.08.15. -->
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF56.png"
alt="[Figure 56. Not displayed.]" 
/>
<br>
<br>
Fig. 56. 
<br>
</p>

   <p>While it's possible to use 3DLDF to make a perspective construction
in the traditional way, as [the previous figure]
 shows, the code for [next figure]

   <p>achieves the same result more efficiently:

<pre class="example">     default_focus.set(0, 4, -6, 0, 4, 6, 6);
     Rectangle r(origin, 2, 5, 0, 40);
     Point p(2, 0, 1.5);
     r.shift(p - r.get_point(0));
     r.draw();
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF57.png"
alt="[Figure 57. Not displayed.]" 
/>
<br>
<br>
Fig. 57. 
<br>
</p>

   <p>In [the second-to-last figure]
, it was
convenient to start with the corner point r_0;
if we needed the center of  R, it would have to be found from the
corner points. 
However, in 3DLDF, <code>Rectangles</code> are most often constructed about
the center.  Therefore, in [next figure]
, R is first
constructed about the origin, with the
rotation about the y-axis passed as an argument to the constructor. 
It is then shifted such that <code>*(</code><var>R</var><code>.points[0])</code>, the first
(or zeroth, if you will) <code>Point</code> on R comes to lie at
(2, 0, 1.5).

   <p>Unlike the other transformations currently
used in 3DLDF, the perspective transformation is non-affine.  Affine
transformations maintain parallelity of lines, while the rules of
perspective state that parallel lines, with one exception, appear to
recede toward a
<!-- !! I believe what I've put in the following footnote is correct, but -->
<!-- maybe it's not.  I've had to try to figure it out myself;  I don't -->
<!-- remember ever seeing this spelled out before. -->
<dfn>vanishing point</dfn>.<a rel="footnote" href="#fn-2" name="fnd-2"><sup>2</sup></a>

   <p>In [the second-to-last figure]
, the lines
from r_0 to r_1 and from r_3 to r_2
appear to vanish
toward the right-hand 40 degrees
 vanishing point, while
the lines from r_0 to r_3 and from r_1 to r_2
appear to vanish
toward the left-hand 50 degrees
 vanishing point. 
The lower the angle of a
vanishing point, the further away it is from the center of vision, as
[next figure]
 shows:

   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF58.png"
alt="[Figure 58. Not displayed.]" 
/>
<br>
<br>
Fig. 58. 
<br>
</p>

   <p>In [the previous figure]
, the 0.5 degrees
 vanishing point is nearly
5 and 3/4
meters away from the CV, and a
line receding to it will be very
nearly horizontal.  However, the distance from the focus to the CV is
only 5<span class="dmn">cm</span>.  As this distance increases, the distance from the
CV to a given vanishing point increases proportionately. 
If the distance is 30<span class="dmn">cm</span>, a more reasonable value
for a drawing, then the x-coordinate of VP 10 degrees
 is 170.138<span class="dmn">cm</span>, that
of VP 5 degrees
 is 342.902<span class="dmn">cm</span>, and that of VP 0.5 degrees
 is 3437.66<span class="dmn">cm</span>! 
This is the reason
why perspective drawings done by hand rarely contain lines receding to
the horizon at low angles.

   <p>This problem doesn't arise when the perspective transformation is
used.  In this case, any angle can be calculated as easily as any other:

<pre class="example">     default_focus.set(0, 4, -6, 0, 4, 6, 6);
     Rectangle r;
     Point center(0, 2);
     r.set(center, 2, 5, 0, 0, 0.5);
     r.draw();
     
     r.set(center, 2, 5, 0, 0, 2.5);
     r.draw();
     
     r.set(center, 2, 5, 0, 0, 5);
     r.draw();
     current_picture.output();
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF59.png"
alt="[Figure 59. Not displayed.]" 
/>
<br>
<br>
Fig. 59. 
<br>
</p>

   <div class="footnote">
<hr>
<h4>Footnotes</h4><p class="footnote"><small>[<a name="fn-1" href="#fnd-1">1</a>]</small> There are many books on linear perspective for artists. 
I've found Gwen White's <cite>Perspective.  A Guide for Artists,
Architects and Designers</cite> to be particularly good.  Vredeman de Vries,
<cite>Perspective</cite> contains beautiful examples of perspective
constructions.</p>

   <p class="footnote"><small>[<a name="fn-2" href="#fnd-2">2</a>]</small> (I believe the following to be correct, but I'm not entirely sure.) 
Let vector v be the line of sight.  By definition, the plane of
projection will be a plane p, such that vector v is normal to
p.  Let q_0 and q_1 be planes such that
q_0 == q_1 or q_0 || q_1, and  q_0 is
perpendicular to p. 
It follows that q_1 is perpendicular to p. 
Let l_0 and l_1 be lines, such that l_0 != l_1,
l_0 || l_1, l_0 lies within q_0, l_1 lies
within q_1,
l_0 is perpendicular to vector v, and l_1 is perpendicular
to vector v. 
Under these circumstances, the projections of l_0 and l_1
in p will also be parallel. 
</p>

   <hr></div>

   </body></html>

