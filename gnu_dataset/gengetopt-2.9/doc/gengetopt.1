.\"   -*- nroff -*-
.TH GENGETOPT 1 2002-12-30 "GNU" "Programmer's Manual"   
.SH NAME
gengetopt \- generate a C function which parses command line
arguments 
.SH SYNOPSIS
.B gengetopt
.RI [ OPTIONS... "] [\fB<\fP " file ]
.SH "DESCRIPTION"
\fBgengetopt\fP reads a description file for command line
arguments and generates a C function which
uses the GNU
.BR getopt_long (3)
library function to parse the command line arguments.
.PP
\fBgengetopt\fP supports:
long and short options (per the \fBGNU Coding Standards\fP), 10 types of
parameters (including flag, int,
double, string, and function call), and a usage message.
.PP
\fBgengetopt\fP itself is under the GPL.  The code it generates is not
under any license. See LICENSE.
.PP
\fBTHIS MAN PAGE IS NOT COMPLETE.\fP 
.PP
\fBTexinfo documentation will be released soon, but meanwhile
please refer to README file or to the html documentation that you
can find in /usr/local/share/doc/gengetopt.\fP 
.SH OPTIONS
\fBgengetopt\fP accepts some options.
.sp
.nf
   -h         --help                Print help and exit
   -V         --version             Print version and exit
   -iSTRING   --input=STRING        input file (default std input)
   -fSTRING   --func-name=STRING    name of generated function (default='cmdline_parser')
   -FSTRING   --file-name=STRING    name of generated file (default='cmdline')
   -l         --long-help           long usage line in help
   -u         --unamed-opts         accept filenames
              --no-handle-help      do not handle --help|-h automatically
              --no-handle-version   do not handle --version|-V automatically
              --no-handle-error     do not exit on errors
              --conf-parser         generate a config file parser
.fi
.SH INPUT
The description file consists of lines with the following format:
.sp
.nf
     package \fIpackname\fP
     version \fIversion\fP
     purpose \fIpurpose\fP
     option \fIlong\fP \fIshort\fP \fIdesc\fP \fIargtype\fP \fI(default="default val")\fP \fIrequired\fP \fImultiple\fP
     option \fIlong\fP \fIshort\fP \fIdesc\fP flag    \fIonoff\fP
     option \fIlong\fP \fIshort\fP \fIdesc\fP no
     ... # ...
.fi
.sp
`#' anywhere in a line starts a comment which continues to the
end of the line.  The data items are as follows:
.TP
.I packname
Double quoted string.
.TP
.I version
Double quoted string.
.TP
.I purpose
Double quoted string with also newlines.
.TP
.I long
The long option, a double quoted string with upper and lower case chars,
digits, `-' and `.'.  No spaces allowed.  The name of the variables generated
to store arguments are long options converted to be legal C variable
names.  This means, `.' and `-' are both replaced by `_'. `_arg'
is appended, or `_flag' for a flag.
.TP
.I short
The short option, a single upper or lower case char, or a digit.
If a '-' is specified, then no short option is considered for the 
long option (thus long options with no associated short options are 
allowed).
.TP
.I desc
Double quoted string.
.TP
.I argtype
\fBstring\fP, \fBint\fP, \fBshort\fP, \fBlong\fP, \fBfloat\fP, \fBdouble\fP,
\fBlongdouble\fP or \fBlonglong\fP.
.TP
.I default
(Optional) Double quoted string.  Specify the default value for this option.
.TP
.I required
\fByes\fP or \fBno\fP.
.TP
.I multiple
If this flag is specified then this option can be specified more than once at command line; all the values for this option are stored in an array.
.TP
.I onoff
\fBon\fP or \fBoff\fP.  This is the state of the flag when the program
starts. If user specifies the option, the flag toggles.
.PP
The third type of option is used to call an arbitrary function.  It
must not be required.  (Otherwise, why is it an option if it doesn't
take a parameter?)
.PP
Options \fB--help\fP and \fB--version\fP are generated automatically.
.SH EXAMPLE

Here's an example of a description file:
.sp
.nf
  # file sample1.ggo
  option  "str-opt"         s "A string option"      string     no
  option  "my-opt"          m "Another integer option"      int     no
  option  "int-opt"         i "A int option"         int        yes
  option  "flag-opt"        - "A flag option"        flag       off
  option  "funct-opt"       F "A function option"    no 
  option  "long-opt"        - "A long option"        long       no
  option  "def-opt"         - "A string option with default" string default="Hello" no  
.fi
.SH "SEE ALSO"
"Advanced features" section in the
HTML documentation in \fI/usr/local/share/doc/gengetopt\fP.
.br
Examples in \fI/usr/local/share/doc/gengetopt/examples\fP.
.SH "VERSION INFORMATION"
This man page (partially) documents \fBgengetopt\fP, version 2.9.
TexInfo documentation will be released soon.
.SH AUTHOR
This man page was written by \fBJames R. Van Zandt <jrv@vanzandt.mv.com>\fP,
for the Debian GNU/Linux system (but may be used by others).
It was modified by \fBLorenzo Bettini <bettini@gnu.org>\fP
the current maintainer of GNU gengetopt.
