<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="GNU source-highlight 1.7
by Lorenzo Bettini, bettini@gnu.org
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite">
<title>cmdline1.c</title>
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#0000EE" vlink="#551A8B" alink="#FF0000">
<pre>
<tt>
<i><font color=#9A1900>/*</font></i>
<i><font color=#9A1900>  File autogenerated by gengetopt version 2.9</font></i>
<i><font color=#9A1900>  generated with the following command:</font></i>
<i><font color=#9A1900>  ../src/gengetopt -i ./sample1.ggo -Fcmdline1 --long-help -u </font></i>
<i><font color=#9A1900></font></i>
<i><font color=#9A1900>  The developers of gengetopt consider the fixed text that goes in all</font></i>
<i><font color=#9A1900>  gengetopt output files to be in the public domain:</font></i>
<i><font color=#9A1900>  we make no copyright claims on it.</font></i>
<i><font color=#9A1900>*/</font></i>


<b><font color=#000080>#include</font></b> <font color=#FF0000>&lt;stdio.h&gt;</font>
<b><font color=#000080>#include</font></b> <font color=#FF0000>&lt;stdlib.h&gt;</font>
<b><font color=#000080>#include</font></b> <font color=#FF0000>&lt;string.h&gt;</font>
<i><font color=#9A1900>/* If we use autoconf.  */</font></i>
<b><font color=#000080>#ifdef</font></b> HAVE_CONFIG_H
<b><font color=#000080>#include</font></b> <font color=#FF0000>"config.h"</font>
<b><font color=#000080>#endif</font></b>
<i><font color=#9A1900>/* Check for configure's getopt check result.  */</font></i>
<b><font color=#000080>#ifndef</font></b> HAVE_GETOPT_LONG
<b><font color=#000080>#include</font></b> <font color=#FF0000>"getopt.h"</font>
<b><font color=#000080>#else</font></b>
<b><font color=#000080>#include</font></b> <font color=#FF0000>&lt;getopt.h&gt;</font>
<b><font color=#000080>#endif</font></b>

<b><font color=#000080>#ifndef</font></b> HAVE_STRDUP
<b><font color=#000080>#define</font></b> strdup gengetopt_strdup
<b><font color=#000080>#endif</font></b> <i><font color=#9A1900>/* HAVE_STRDUP */</font></i>

<b><font color=#000080>#include</font></b> <font color=#FF0000>"cmdline1.h"</font>


<font color=#009900>void</font>
<b><font color=#000000>cmdline_parser_print_version</font></b> <font color=#990000>(</font><font color=#009900>void</font><font color=#990000>)</font>
<font color=#FF0000>{</font>
  <b><font color=#000000>printf</font></b> <font color=#990000>(</font><font color=#FF0000>"%s %s\n"</font><font color=#990000>,</font> PACKAGE<font color=#990000>,</font> VERSION<font color=#990000>)</font><font color=#990000>;</font>
<font color=#FF0000>}</font>

<font color=#009900>void</font>
<b><font color=#000000>cmdline_parser_print_help</font></b> <font color=#990000>(</font><font color=#009900>void</font><font color=#990000>)</font>
<font color=#FF0000>{</font>
  <b><font color=#000000>cmdline_parser_print_version</font></b> <font color=#990000>(</font><font color=#990000>)</font><font color=#990000>;</font>
  <b><font color=#000000>printf</font></b><font color=#990000>(</font><font color=#FF0000>"\n"</font>
  <font color=#FF0000>"Usage: %s -iINT|--int-opt=INT [-h|--help] [-V|--version] -sSTRING|--str-opt=STRING -mINT|--my-opt=INT [--flag-opt] [-F|--funct-opt] --long-opt=LONG --def-opt=STRING  [FILES]...\n"</font><font color=#990000>,</font> PACKAGE<font color=#990000>)</font><font color=#990000>;</font>
  <b><font color=#000000>printf</font></b><font color=#990000>(</font><font color=#FF0000>"   -h         --help            Print help and exit\n"</font><font color=#990000>)</font><font color=#990000>;</font>
  <b><font color=#000000>printf</font></b><font color=#990000>(</font><font color=#FF0000>"   -V         --version         Print version and exit\n"</font><font color=#990000>)</font><font color=#990000>;</font>
  <b><font color=#000000>printf</font></b><font color=#990000>(</font><font color=#FF0000>"   -sSTRING   --str-opt=STRING  A string option\n"</font><font color=#990000>)</font><font color=#990000>;</font>
  <b><font color=#000000>printf</font></b><font color=#990000>(</font><font color=#FF0000>"   -mINT      --my-opt=INT      Another integer option\n"</font><font color=#990000>)</font><font color=#990000>;</font>
  <b><font color=#000000>printf</font></b><font color=#990000>(</font><font color=#FF0000>"   -iINT      --int-opt=INT     A int option\n"</font><font color=#990000>)</font><font color=#990000>;</font>
  <b><font color=#000000>printf</font></b><font color=#990000>(</font><font color=#FF0000>"              --flag-opt        A flag option (default=off)\n"</font><font color=#990000>)</font><font color=#990000>;</font>
  <b><font color=#000000>printf</font></b><font color=#990000>(</font><font color=#FF0000>"   -F         --funct-opt       A function option\n"</font><font color=#990000>)</font><font color=#990000>;</font>
  <b><font color=#000000>printf</font></b><font color=#990000>(</font><font color=#FF0000>"              --long-opt=LONG   A long option\n"</font><font color=#990000>)</font><font color=#990000>;</font>
  <b><font color=#000000>printf</font></b><font color=#990000>(</font><font color=#FF0000>"              --def-opt=STRING  A string option with default (default='Hello')\n"</font><font color=#990000>)</font><font color=#990000>;</font>
<font color=#FF0000>}</font>


<b><font color=#000080>#ifndef</font></b> HAVE_STRDUP
<i><font color=#9A1900>/* gengetopt_strdup(): automatically generated from strdup.c. */</font></i>
<i><font color=#9A1900>/* strdup.c replacement of strdup, which is not standard */</font></i>
<b><font color=#0000FF>static</font></b> <font color=#009900>char</font> <font color=#990000>*</font>
<b><font color=#000000>gengetopt_strdup</font></b> <font color=#990000>(</font><b><font color=#0000FF>const</font></b> <font color=#009900>char</font> <font color=#990000>*</font>s<font color=#990000>)</font>
<font color=#FF0000>{</font>
  <font color=#009900>char</font> <font color=#990000>*</font>result <font color=#990000>=</font> <font color=#990000>(</font><font color=#009900>char</font><font color=#990000>*</font><font color=#990000>)</font><b><font color=#000000>malloc</font></b><font color=#990000>(</font><b><font color=#000000>strlen</font></b><font color=#990000>(</font>s<font color=#990000>)</font> <font color=#990000>+</font> <font color=#993399>1</font><font color=#990000>)</font><font color=#990000>;</font>
  <b><font color=#0000FF>if</font></b> <font color=#990000>(</font>result <font color=#990000>=</font><font color=#990000>=</font> <font color=#990000>(</font><font color=#009900>char</font><font color=#990000>*</font><font color=#990000>)</font><font color=#993399>0</font><font color=#990000>)</font>
    <b><font color=#0000FF>return</font></b> <font color=#990000>(</font><font color=#009900>char</font><font color=#990000>*</font><font color=#990000>)</font><font color=#993399>0</font><font color=#990000>;</font>
  <b><font color=#000000>strcpy</font></b><font color=#990000>(</font>result<font color=#990000>,</font> s<font color=#990000>)</font><font color=#990000>;</font>
  <b><font color=#0000FF>return</font></b> result<font color=#990000>;</font>
<font color=#FF0000>}</font>
<b><font color=#000080>#endif</font></b> <i><font color=#9A1900>/* HAVE_STRDUP */</font></i>

<font color=#009900>int</font>
<b><font color=#000000>cmdline_parser</font></b> <font color=#990000>(</font><font color=#009900>int</font> argc<font color=#990000>,</font> <font color=#009900>char</font> <font color=#990000>*</font> <b><font color=#0000FF>const</font></b> <font color=#990000>*</font>argv<font color=#990000>,</font> <b><font color=#0000FF>struct</font></b> gengetopt_args_info <font color=#990000>*</font>args_info<font color=#990000>)</font>
<font color=#FF0000>{</font>
  <font color=#009900>int</font> c<font color=#990000>;</font>	<i><font color=#9A1900>/* Character of the parsed option.  */</font></i>
  <font color=#009900>int</font> missing_required_options <font color=#990000>=</font> <font color=#993399>0</font><font color=#990000>;</font>

  args_info<font color=#990000>-</font><font color=#990000>&gt;</font>help_given <font color=#990000>=</font> <font color=#993399>0</font> <font color=#990000>;</font>
  args_info<font color=#990000>-</font><font color=#990000>&gt;</font>version_given <font color=#990000>=</font> <font color=#993399>0</font> <font color=#990000>;</font>
  args_info<font color=#990000>-</font><font color=#990000>&gt;</font>str_opt_given <font color=#990000>=</font> <font color=#993399>0</font> <font color=#990000>;</font>
  args_info<font color=#990000>-</font><font color=#990000>&gt;</font>my_opt_given <font color=#990000>=</font> <font color=#993399>0</font> <font color=#990000>;</font>
  args_info<font color=#990000>-</font><font color=#990000>&gt;</font>int_opt_given <font color=#990000>=</font> <font color=#993399>0</font> <font color=#990000>;</font>
  args_info<font color=#990000>-</font><font color=#990000>&gt;</font>flag_opt_given <font color=#990000>=</font> <font color=#993399>0</font> <font color=#990000>;</font>
  args_info<font color=#990000>-</font><font color=#990000>&gt;</font>funct_opt_given <font color=#990000>=</font> <font color=#993399>0</font> <font color=#990000>;</font>
  args_info<font color=#990000>-</font><font color=#990000>&gt;</font>long_opt_given <font color=#990000>=</font> <font color=#993399>0</font> <font color=#990000>;</font>
  args_info<font color=#990000>-</font><font color=#990000>&gt;</font>def_opt_given <font color=#990000>=</font> <font color=#993399>0</font> <font color=#990000>;</font>
<b><font color=#000080>#define</font></b> <b><font color=#000000>clear_args</font></b><font color=#990000>(</font><font color=#990000>)</font> <font color=#FF0000>{</font> <font color=#990000>\</font>
  args_info<font color=#990000>-</font><font color=#990000>&gt;</font>str_opt_arg <font color=#990000>=</font> NULL<font color=#990000>;</font> <font color=#990000>\</font>
  args_info<font color=#990000>-</font><font color=#990000>&gt;</font>flag_opt_flag <font color=#990000>=</font> <font color=#993399>0</font><font color=#990000>;</font><font color=#990000>\</font>
  args_info<font color=#990000>-</font><font color=#990000>&gt;</font>def_opt_arg <font color=#990000>=</font> <b><font color=#000000>strdup</font></b><font color=#990000>(</font><font color=#FF0000>"Hello"</font><font color=#990000>)</font> <font color=#990000>;</font><font color=#990000>\</font>
<font color=#FF0000>}</font>

  <b><font color=#000000>clear_args</font></b><font color=#990000>(</font><font color=#990000>)</font><font color=#990000>;</font>

  args_info<font color=#990000>-</font><font color=#990000>&gt;</font>inputs <font color=#990000>=</font> NULL<font color=#990000>;</font>
  args_info<font color=#990000>-</font><font color=#990000>&gt;</font>inputs_num <font color=#990000>=</font> <font color=#993399>0</font><font color=#990000>;</font>

  optarg <font color=#990000>=</font> <font color=#993399>0</font><font color=#990000>;</font>
  optind <font color=#990000>=</font> <font color=#993399>1</font><font color=#990000>;</font>
  opterr <font color=#990000>=</font> <font color=#993399>1</font><font color=#990000>;</font>
  optopt <font color=#990000>=</font> <font color=#FF0000>'?'</font><font color=#990000>;</font>

  <b><font color=#0000FF>while</font></b> <font color=#990000>(</font><font color=#993399>1</font><font color=#990000>)</font>
    <font color=#FF0000>{</font>
      <font color=#009900>int</font> option_index <font color=#990000>=</font> <font color=#993399>0</font><font color=#990000>;</font>
      <font color=#009900>char</font> <font color=#990000>*</font>stop_char<font color=#990000>;</font>
      <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>struct</font></b> option long_options<font color=#990000>[</font><font color=#990000>]</font> <font color=#990000>=</font> <font color=#FF0000>{</font>
        <font color=#FF0000>{</font> <font color=#FF0000>"help"</font><font color=#990000>,</font>	<font color=#993399>0</font><font color=#990000>,</font> NULL<font color=#990000>,</font> <font color=#FF0000>'h'</font> <font color=#FF0000>}</font><font color=#990000>,</font>
        <font color=#FF0000>{</font> <font color=#FF0000>"version"</font><font color=#990000>,</font>	<font color=#993399>0</font><font color=#990000>,</font> NULL<font color=#990000>,</font> <font color=#FF0000>'V'</font> <font color=#FF0000>}</font><font color=#990000>,</font>
        <font color=#FF0000>{</font> <font color=#FF0000>"str-opt"</font><font color=#990000>,</font>	<font color=#993399>1</font><font color=#990000>,</font> NULL<font color=#990000>,</font> <font color=#FF0000>'s'</font> <font color=#FF0000>}</font><font color=#990000>,</font>
        <font color=#FF0000>{</font> <font color=#FF0000>"my-opt"</font><font color=#990000>,</font>	<font color=#993399>1</font><font color=#990000>,</font> NULL<font color=#990000>,</font> <font color=#FF0000>'m'</font> <font color=#FF0000>}</font><font color=#990000>,</font>
        <font color=#FF0000>{</font> <font color=#FF0000>"int-opt"</font><font color=#990000>,</font>	<font color=#993399>1</font><font color=#990000>,</font> NULL<font color=#990000>,</font> <font color=#FF0000>'i'</font> <font color=#FF0000>}</font><font color=#990000>,</font>
        <font color=#FF0000>{</font> <font color=#FF0000>"flag-opt"</font><font color=#990000>,</font>	<font color=#993399>0</font><font color=#990000>,</font> NULL<font color=#990000>,</font> <font color=#993399>0</font> <font color=#FF0000>}</font><font color=#990000>,</font>
        <font color=#FF0000>{</font> <font color=#FF0000>"funct-opt"</font><font color=#990000>,</font>	<font color=#993399>0</font><font color=#990000>,</font> NULL<font color=#990000>,</font> <font color=#FF0000>'F'</font> <font color=#FF0000>}</font><font color=#990000>,</font>
        <font color=#FF0000>{</font> <font color=#FF0000>"long-opt"</font><font color=#990000>,</font>	<font color=#993399>1</font><font color=#990000>,</font> NULL<font color=#990000>,</font> <font color=#993399>0</font> <font color=#FF0000>}</font><font color=#990000>,</font>
        <font color=#FF0000>{</font> <font color=#FF0000>"def-opt"</font><font color=#990000>,</font>	<font color=#993399>1</font><font color=#990000>,</font> NULL<font color=#990000>,</font> <font color=#993399>0</font> <font color=#FF0000>}</font><font color=#990000>,</font>
        <font color=#FF0000>{</font> NULL<font color=#990000>,</font>	<font color=#993399>0</font><font color=#990000>,</font> NULL<font color=#990000>,</font> <font color=#993399>0</font> <font color=#FF0000>}</font>
      <font color=#FF0000>}</font><font color=#990000>;</font>

      c <font color=#990000>=</font> <b><font color=#000000>getopt_long</font></b> <font color=#990000>(</font>argc<font color=#990000>,</font> argv<font color=#990000>,</font> <font color=#FF0000>"hVs:m:i:F"</font><font color=#990000>,</font> long_options<font color=#990000>,</font> <font color=#990000>&amp;</font>option_index<font color=#990000>)</font><font color=#990000>;</font>

      <b><font color=#0000FF>if</font></b> <font color=#990000>(</font>c <font color=#990000>=</font><font color=#990000>=</font> <font color=#990000>-</font><font color=#993399>1</font><font color=#990000>)</font> <b><font color=#0000FF>break</font></b><font color=#990000>;</font>	<i><font color=#9A1900>/* Exit from `while (1)' loop.  */</font></i>

      <b><font color=#0000FF>switch</font></b> <font color=#990000>(</font>c<font color=#990000>)</font>
        <font color=#FF0000>{</font>
        <b><font color=#0000FF>case</font></b> <font color=#FF0000>'h'</font><font color=#990000>:</font>	<i><font color=#9A1900>/* Print help and exit.  */</font></i>
          <b><font color=#000000>clear_args</font></b> <font color=#990000>(</font><font color=#990000>)</font><font color=#990000>;</font>
          <b><font color=#000000>cmdline_parser_print_help</font></b> <font color=#990000>(</font><font color=#990000>)</font><font color=#990000>;</font>
          <b><font color=#000000>exit</font></b> <font color=#990000>(</font>EXIT_SUCCESS<font color=#990000>)</font><font color=#990000>;</font>

        <b><font color=#0000FF>case</font></b> <font color=#FF0000>'V'</font><font color=#990000>:</font>	<i><font color=#9A1900>/* Print version and exit.  */</font></i>
          <b><font color=#000000>clear_args</font></b> <font color=#990000>(</font><font color=#990000>)</font><font color=#990000>;</font>
          <b><font color=#000000>cmdline_parser_print_version</font></b> <font color=#990000>(</font><font color=#990000>)</font><font color=#990000>;</font>
          <b><font color=#000000>exit</font></b> <font color=#990000>(</font>EXIT_SUCCESS<font color=#990000>)</font><font color=#990000>;</font>

        <b><font color=#0000FF>case</font></b> <font color=#FF0000>'s'</font><font color=#990000>:</font>	<i><font color=#9A1900>/* A string option.  */</font></i>
          <b><font color=#0000FF>if</font></b> <font color=#990000>(</font>args_info<font color=#990000>-</font><font color=#990000>&gt;</font>str_opt_given<font color=#990000>)</font>
            <font color=#FF0000>{</font>
              <b><font color=#000000>fprintf</font></b> <font color=#990000>(</font>stderr<font color=#990000>,</font> <font color=#FF0000>"%s: `--str-opt' (`-s') option given more than once\n"</font><font color=#990000>,</font> PACKAGE<font color=#990000>)</font><font color=#990000>;</font>
              <b><font color=#000000>clear_args</font></b> <font color=#990000>(</font><font color=#990000>)</font><font color=#990000>;</font>
              <b><font color=#000000>exit</font></b> <font color=#990000>(</font>EXIT_FAILURE<font color=#990000>)</font><font color=#990000>;</font>
            <font color=#FF0000>}</font>
          args_info<font color=#990000>-</font><font color=#990000>&gt;</font>str_opt_given <font color=#990000>=</font> <font color=#993399>1</font><font color=#990000>;</font>
          args_info<font color=#990000>-</font><font color=#990000>&gt;</font>str_opt_arg <font color=#990000>=</font> <b><font color=#000000>strdup</font></b> <font color=#990000>(</font>optarg<font color=#990000>)</font><font color=#990000>;</font>
          <b><font color=#0000FF>break</font></b><font color=#990000>;</font>

        <b><font color=#0000FF>case</font></b> <font color=#FF0000>'m'</font><font color=#990000>:</font>	<i><font color=#9A1900>/* Another integer option.  */</font></i>
          <b><font color=#0000FF>if</font></b> <font color=#990000>(</font>args_info<font color=#990000>-</font><font color=#990000>&gt;</font>my_opt_given<font color=#990000>)</font>
            <font color=#FF0000>{</font>
              <b><font color=#000000>fprintf</font></b> <font color=#990000>(</font>stderr<font color=#990000>,</font> <font color=#FF0000>"%s: `--my-opt' (`-m') option given more than once\n"</font><font color=#990000>,</font> PACKAGE<font color=#990000>)</font><font color=#990000>;</font>
              <b><font color=#000000>clear_args</font></b> <font color=#990000>(</font><font color=#990000>)</font><font color=#990000>;</font>
              <b><font color=#000000>exit</font></b> <font color=#990000>(</font>EXIT_FAILURE<font color=#990000>)</font><font color=#990000>;</font>
            <font color=#FF0000>}</font>
          args_info<font color=#990000>-</font><font color=#990000>&gt;</font>my_opt_given <font color=#990000>=</font> <font color=#993399>1</font><font color=#990000>;</font>
          args_info<font color=#990000>-</font><font color=#990000>&gt;</font>my_opt_arg <font color=#990000>=</font> <b><font color=#000000>strtol</font></b> <font color=#990000>(</font>optarg<font color=#990000>,</font><font color=#990000>&amp;</font>stop_char<font color=#990000>,</font><font color=#993399>0</font><font color=#990000>)</font><font color=#990000>;</font>
          <b><font color=#0000FF>break</font></b><font color=#990000>;</font>

        <b><font color=#0000FF>case</font></b> <font color=#FF0000>'i'</font><font color=#990000>:</font>	<i><font color=#9A1900>/* A int option.  */</font></i>
          <b><font color=#0000FF>if</font></b> <font color=#990000>(</font>args_info<font color=#990000>-</font><font color=#990000>&gt;</font>int_opt_given<font color=#990000>)</font>
            <font color=#FF0000>{</font>
              <b><font color=#000000>fprintf</font></b> <font color=#990000>(</font>stderr<font color=#990000>,</font> <font color=#FF0000>"%s: `--int-opt' (`-i') option given more than once\n"</font><font color=#990000>,</font> PACKAGE<font color=#990000>)</font><font color=#990000>;</font>
              <b><font color=#000000>clear_args</font></b> <font color=#990000>(</font><font color=#990000>)</font><font color=#990000>;</font>
              <b><font color=#000000>exit</font></b> <font color=#990000>(</font>EXIT_FAILURE<font color=#990000>)</font><font color=#990000>;</font>
            <font color=#FF0000>}</font>
          args_info<font color=#990000>-</font><font color=#990000>&gt;</font>int_opt_given <font color=#990000>=</font> <font color=#993399>1</font><font color=#990000>;</font>
          args_info<font color=#990000>-</font><font color=#990000>&gt;</font>int_opt_arg <font color=#990000>=</font> <b><font color=#000000>strtol</font></b> <font color=#990000>(</font>optarg<font color=#990000>,</font><font color=#990000>&amp;</font>stop_char<font color=#990000>,</font><font color=#993399>0</font><font color=#990000>)</font><font color=#990000>;</font>
          <b><font color=#0000FF>break</font></b><font color=#990000>;</font>

        <b><font color=#0000FF>case</font></b> <font color=#FF0000>'F'</font><font color=#990000>:</font>	<i><font color=#9A1900>/* A function option.  */</font></i>
          <b><font color=#0000FF>if</font></b> <font color=#990000>(</font>args_info<font color=#990000>-</font><font color=#990000>&gt;</font>funct_opt_given<font color=#990000>)</font>
            <font color=#FF0000>{</font>
              <b><font color=#000000>fprintf</font></b> <font color=#990000>(</font>stderr<font color=#990000>,</font> <font color=#FF0000>"%s: `--funct-opt' (`-F') option given more than once\n"</font><font color=#990000>,</font> PACKAGE<font color=#990000>)</font><font color=#990000>;</font>
              <b><font color=#000000>clear_args</font></b> <font color=#990000>(</font><font color=#990000>)</font><font color=#990000>;</font>
              <b><font color=#000000>exit</font></b> <font color=#990000>(</font>EXIT_FAILURE<font color=#990000>)</font><font color=#990000>;</font>
            <font color=#FF0000>}</font>
          args_info<font color=#990000>-</font><font color=#990000>&gt;</font>funct_opt_given <font color=#990000>=</font> <font color=#993399>1</font><font color=#990000>;</font>
          <b><font color=#0000FF>break</font></b><font color=#990000>;</font>


        <b><font color=#0000FF>case</font></b> <font color=#993399>0</font><font color=#990000>:</font>	<i><font color=#9A1900>/* Long option with no short option */</font></i>
          <i><font color=#9A1900>/* A flag option.  */</font></i>
          <b><font color=#0000FF>if</font></b> <font color=#990000>(</font><b><font color=#000000>strcmp</font></b> <font color=#990000>(</font>long_options<font color=#990000>[</font>option_index<font color=#990000>]</font><font color=#990000>.</font>name<font color=#990000>,</font> <font color=#FF0000>"flag-opt"</font><font color=#990000>)</font> <font color=#990000>=</font><font color=#990000>=</font> <font color=#993399>0</font><font color=#990000>)</font>
          <font color=#FF0000>{</font>
            <b><font color=#0000FF>if</font></b> <font color=#990000>(</font>args_info<font color=#990000>-</font><font color=#990000>&gt;</font>flag_opt_given<font color=#990000>)</font>
              <font color=#FF0000>{</font>
                <b><font color=#000000>fprintf</font></b> <font color=#990000>(</font>stderr<font color=#990000>,</font> <font color=#FF0000>"%s: `--flag-opt' option given more than once\n"</font><font color=#990000>,</font> PACKAGE<font color=#990000>)</font><font color=#990000>;</font>
                <b><font color=#000000>clear_args</font></b> <font color=#990000>(</font><font color=#990000>)</font><font color=#990000>;</font>
                <b><font color=#000000>exit</font></b> <font color=#990000>(</font>EXIT_FAILURE<font color=#990000>)</font><font color=#990000>;</font>
              <font color=#FF0000>}</font>
            args_info<font color=#990000>-</font><font color=#990000>&gt;</font>flag_opt_given <font color=#990000>=</font> <font color=#993399>1</font><font color=#990000>;</font>
            args_info<font color=#990000>-</font><font color=#990000>&gt;</font>flag_opt_flag <font color=#990000>=</font> <font color=#990000>!</font><font color=#990000>(</font>args_info<font color=#990000>-</font><font color=#990000>&gt;</font>flag_opt_flag<font color=#990000>)</font><font color=#990000>;</font>
            <b><font color=#0000FF>break</font></b><font color=#990000>;</font>
          <font color=#FF0000>}</font>
          
          <i><font color=#9A1900>/* A long option.  */</font></i>
          <b><font color=#0000FF>else</font></b> <b><font color=#0000FF>if</font></b> <font color=#990000>(</font><b><font color=#000000>strcmp</font></b> <font color=#990000>(</font>long_options<font color=#990000>[</font>option_index<font color=#990000>]</font><font color=#990000>.</font>name<font color=#990000>,</font> <font color=#FF0000>"long-opt"</font><font color=#990000>)</font> <font color=#990000>=</font><font color=#990000>=</font> <font color=#993399>0</font><font color=#990000>)</font>
          <font color=#FF0000>{</font>
            <b><font color=#0000FF>if</font></b> <font color=#990000>(</font>args_info<font color=#990000>-</font><font color=#990000>&gt;</font>long_opt_given<font color=#990000>)</font>
              <font color=#FF0000>{</font>
                <b><font color=#000000>fprintf</font></b> <font color=#990000>(</font>stderr<font color=#990000>,</font> <font color=#FF0000>"%s: `--long-opt' option given more than once\n"</font><font color=#990000>,</font> PACKAGE<font color=#990000>)</font><font color=#990000>;</font>
                <b><font color=#000000>clear_args</font></b> <font color=#990000>(</font><font color=#990000>)</font><font color=#990000>;</font>
                <b><font color=#000000>exit</font></b> <font color=#990000>(</font>EXIT_FAILURE<font color=#990000>)</font><font color=#990000>;</font>
              <font color=#FF0000>}</font>
            args_info<font color=#990000>-</font><font color=#990000>&gt;</font>long_opt_given <font color=#990000>=</font> <font color=#993399>1</font><font color=#990000>;</font>
            args_info<font color=#990000>-</font><font color=#990000>&gt;</font>long_opt_arg <font color=#990000>=</font> <b><font color=#000000>strtol</font></b> <font color=#990000>(</font>optarg<font color=#990000>,</font><font color=#990000>&amp;</font>stop_char<font color=#990000>,</font><font color=#993399>0</font><font color=#990000>)</font><font color=#990000>;</font>
            <b><font color=#0000FF>break</font></b><font color=#990000>;</font>
          <font color=#FF0000>}</font>
          
          <i><font color=#9A1900>/* A string option with default.  */</font></i>
          <b><font color=#0000FF>else</font></b> <b><font color=#0000FF>if</font></b> <font color=#990000>(</font><b><font color=#000000>strcmp</font></b> <font color=#990000>(</font>long_options<font color=#990000>[</font>option_index<font color=#990000>]</font><font color=#990000>.</font>name<font color=#990000>,</font> <font color=#FF0000>"def-opt"</font><font color=#990000>)</font> <font color=#990000>=</font><font color=#990000>=</font> <font color=#993399>0</font><font color=#990000>)</font>
          <font color=#FF0000>{</font>
            <b><font color=#0000FF>if</font></b> <font color=#990000>(</font>args_info<font color=#990000>-</font><font color=#990000>&gt;</font>def_opt_given<font color=#990000>)</font>
              <font color=#FF0000>{</font>
                <b><font color=#000000>fprintf</font></b> <font color=#990000>(</font>stderr<font color=#990000>,</font> <font color=#FF0000>"%s: `--def-opt' option given more than once\n"</font><font color=#990000>,</font> PACKAGE<font color=#990000>)</font><font color=#990000>;</font>
                <b><font color=#000000>clear_args</font></b> <font color=#990000>(</font><font color=#990000>)</font><font color=#990000>;</font>
                <b><font color=#000000>exit</font></b> <font color=#990000>(</font>EXIT_FAILURE<font color=#990000>)</font><font color=#990000>;</font>
              <font color=#FF0000>}</font>
            args_info<font color=#990000>-</font><font color=#990000>&gt;</font>def_opt_given <font color=#990000>=</font> <font color=#993399>1</font><font color=#990000>;</font>
            args_info<font color=#990000>-</font><font color=#990000>&gt;</font>def_opt_arg <font color=#990000>=</font> <b><font color=#000000>strdup</font></b> <font color=#990000>(</font>optarg<font color=#990000>)</font><font color=#990000>;</font>
            <b><font color=#0000FF>break</font></b><font color=#990000>;</font>
          <font color=#FF0000>}</font>
          

        <b><font color=#0000FF>case</font></b> <font color=#FF0000>'?'</font><font color=#990000>:</font>	<i><font color=#9A1900>/* Invalid option.  */</font></i>
          <i><font color=#9A1900>/* `getopt_long' already printed an error message.  */</font></i>
          <b><font color=#000000>exit</font></b> <font color=#990000>(</font>EXIT_FAILURE<font color=#990000>)</font><font color=#990000>;</font>

        <b><font color=#0000FF>default</font></b><font color=#990000>:</font>	<i><font color=#9A1900>/* bug: option not considered.  */</font></i>
          <b><font color=#000000>fprintf</font></b> <font color=#990000>(</font>stderr<font color=#990000>,</font> <font color=#FF0000>"%s: option unknown: %c\n"</font><font color=#990000>,</font> PACKAGE<font color=#990000>,</font> c<font color=#990000>)</font><font color=#990000>;</font>
          <b><font color=#000000>abort</font></b> <font color=#990000>(</font><font color=#990000>)</font><font color=#990000>;</font>
        <font color=#FF0000>}</font> <i><font color=#9A1900>/* switch */</font></i>
    <font color=#FF0000>}</font> <i><font color=#9A1900>/* while */</font></i>


  <b><font color=#0000FF>if</font></b> <font color=#990000>(</font><font color=#990000>!</font> args_info<font color=#990000>-</font><font color=#990000>&gt;</font>int_opt_given<font color=#990000>)</font>
    <font color=#FF0000>{</font>
      <b><font color=#000000>fprintf</font></b> <font color=#990000>(</font>stderr<font color=#990000>,</font> <font color=#FF0000>"%s: '--int-opt' ('-i') option required\n"</font><font color=#990000>,</font> PACKAGE<font color=#990000>)</font><font color=#990000>;</font>
      missing_required_options <font color=#990000>=</font> <font color=#993399>1</font><font color=#990000>;</font>
    <font color=#FF0000>}</font>
  <b><font color=#0000FF>if</font></b> <font color=#990000>(</font> missing_required_options <font color=#990000>)</font>
    <b><font color=#000000>exit</font></b> <font color=#990000>(</font>EXIT_FAILURE<font color=#990000>)</font><font color=#990000>;</font>

  <b><font color=#0000FF>if</font></b> <font color=#990000>(</font>optind <font color=#990000>&lt;</font> argc<font color=#990000>)</font>
    <font color=#FF0000>{</font>
      <font color=#009900>int</font> i <font color=#990000>=</font> <font color=#993399>0</font> <font color=#990000>;</font>
  
      args_info<font color=#990000>-</font><font color=#990000>&gt;</font>inputs_num <font color=#990000>=</font> argc <font color=#990000>-</font> optind <font color=#990000>;</font>
      args_info<font color=#990000>-</font><font color=#990000>&gt;</font>inputs <font color=#990000>=</font> 
        <font color=#990000>(</font><font color=#009900>char</font> <font color=#990000>*</font><font color=#990000>*</font><font color=#990000>)</font><font color=#990000>(</font><b><font color=#000000>malloc</font></b> <font color=#990000>(</font><font color=#990000>(</font>args_info<font color=#990000>-</font><font color=#990000>&gt;</font>inputs_num<font color=#990000>)</font><font color=#990000>*</font><b><font color=#0000FF>sizeof</font></b><font color=#990000>(</font><font color=#009900>char</font> <font color=#990000>*</font><font color=#990000>)</font><font color=#990000>)</font><font color=#990000>)</font> <font color=#990000>;</font>
      <b><font color=#0000FF>while</font></b> <font color=#990000>(</font>optind <font color=#990000>&lt;</font> argc<font color=#990000>)</font>
        args_info<font color=#990000>-</font><font color=#990000>&gt;</font>inputs<font color=#990000>[</font> i<font color=#990000>+</font><font color=#990000>+</font> <font color=#990000>]</font> <font color=#990000>=</font> <b><font color=#000000>strdup</font></b> <font color=#990000>(</font>argv<font color=#990000>[</font>optind<font color=#990000>+</font><font color=#990000>+</font><font color=#990000>]</font><font color=#990000>)</font> <font color=#990000>;</font> 
    <font color=#FF0000>}</font>
  
  <b><font color=#0000FF>return</font></b> <font color=#993399>0</font><font color=#990000>;</font>
<font color=#FF0000>}</font>
</tt>
</pre>
</body>
</html>
