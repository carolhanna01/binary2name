<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 5.1, http://www.gnu.org/software/texinfo/ -->
<head>
<title>Mifluz: mifluz CONFIGURATION</title>

<meta name="description" content="Mifluz: mifluz CONFIGURATION">
<meta name="keywords" content="Mifluz: mifluz CONFIGURATION">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="Concept-Index.html#Concept-Index" rel="index" title="Concept Index">
<link href="Concept-Index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="mifluz.html#mifluz" rel="up" title="mifluz">
<link href="mifluz-ENVIRONMENT.html#mifluz-ENVIRONMENT" rel="next" title="mifluz ENVIRONMENT">
<link href="mifluz-CLASSES-AND-COMMANDS.html#mifluz-CLASSES-AND-COMMANDS" rel="previous" title="mifluz CLASSES AND COMMANDS">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="mifluz-CONFIGURATION"></a>
<div class="header">
<p>
Next: <a href="mifluz-ENVIRONMENT.html#mifluz-ENVIRONMENT" accesskey="n" rel="next">mifluz ENVIRONMENT</a>, Previous: <a href="mifluz-CLASSES-AND-COMMANDS.html#mifluz-CLASSES-AND-COMMANDS" accesskey="p" rel="previous">mifluz CLASSES AND COMMANDS</a>, Up: <a href="mifluz.html#mifluz" accesskey="u" rel="up">mifluz</a> &nbsp; [<a href="Concept-Index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="mifluz-CONFIGURATION-1"></a>
<h4 class="subsection">10.23.5 mifluz CONFIGURATION</h4>

<p>The format of the configuration file read by WordContext::Initialize is:
</p><div class="example">
<pre class="example">keyword: value
</pre></div>
<p>Comments may be added on lines starting with a #. The default
configuration file is read from from the file pointed by the
<strong>MIFLUZ_CONFIG
</strong> environment variable or
<strong>~/.mifluz
</strong> or
<strong>/etc/mifluz.conf
</strong> in this
order. If no configuration file is available, builtin defaults are used.
Here is an example configuration file:
</p><div class="example">
<pre class="example">wordlist_extend: true
wordlist_cache_size: 10485760
wordlist_page_size: 32768
wordlist_compress: 1
wordlist_wordrecord_description: NONE
wordlist_wordkey_description: Word/DocID 32/Flags 8/Location 16
wordlist_monitor: true
wordlist_monitor_period: 30
wordlist_monitor_output: monitor.out,rrd
</pre></div>
<dl compact="compact">
<dt>&lsquo;<samp>wordlist_allow_numbers {true|false} &lt;number&gt; (default false)</samp>&rsquo;</dt>
<dd>
<p>A digit is considered a valid character within a word if
this configuration parameter is set to
<code>true
</code> otherwise
it is an error to insert a word containing digits.
See the
<strong>Normalize
</strong> method for more information.
</p></dd>
<dt>&lsquo;<samp>wordlist_cache_inserts {true|false} (default false)</samp>&rsquo;</dt>
<dd>
<p>If true all
<strong>Insert
</strong> calls are cached in memory. When the 
WordList object is closed or a different access method is called
the cached entries are flushed in the inverted index.
</p></dd>
<dt>&lsquo;<samp>wordlist_cache_max &lt;bytes&gt; (default 0)</samp>&rsquo;</dt>
<dd>
<p>Maximum size of the cumulated cache files generated when doing bulk
insertion with the
<strong>BatchStart()
</strong> function. When this limit is
reached, the cache files are all merged into the inverted index. 
The value 0 means infinite size allowed.
See WordList(3) for the rationale behind cache file handling.
</p></dd>
<dt>&lsquo;<samp>wordlist_cache_size &lt;bytes&gt; (default 500K)</samp>&rsquo;</dt>
<dd>
<p>Berkeley DB cache size (see Berkeley DB documentation)
Cache makes a huge difference in performance. It must be at least 2%
of the expected total data size. Note that if compression is activated
the data size is eight times larger than the actual file size. In this
case the cache must be scaled to 2% of the data size, not 2% 
of the file size. See
<strong>Cache tuning
</strong> in the mifluz guide for
more hints.
See WordList(3) for the rationale behind cache file handling.
</p></dd>
<dt>&lsquo;<samp>wordlist_compress {true|false} (default false)</samp>&rsquo;</dt>
<dd>
<p>Activate compression of the index. The resulting index is eight times
smaller than the uncompressed index.
</p></dd>
<dt>&lsquo;<samp>wordlist_env_dir &lt;directory&gt; (default .)</samp>&rsquo;</dt>
<dd>
<p>Only valid if
<code>wordlist_env_share
</code> set to
<code>true.
</code>
Specify the directory in which the sharable environment will 
be created. All
inverted indexes specified with a non-absolute pathname will be
created relative to this directory.
</p></dd>
<dt>&lsquo;<samp>wordlist_env_share {true,false} (default false)</samp>&rsquo;</dt>
<dd>
<p>If true a sharable environment is open or created if none exist.
</p></dd>
<dt>&lsquo;<samp>wordlist_env_skip {true,false} (default false)</samp>&rsquo;</dt>
<dd>
<p>If true no environment is created at all. This must never 
be used if a
<code>WordList
</code> object is created. It may be
useful if only
<code>WordKey
</code> objects are used, for instance.
</p></dd>
<dt>&lsquo;<samp>wordlist_extend {true|false} (default false)</samp>&rsquo;</dt>
<dd>
<p>If
<strong>true
</strong> maintain reference count of unique 
words. The
<strong>Noccurrence
</strong> method gives access to this count.
</p></dd>
<dt>&lsquo;<samp>wordlist_locale &lt;locale&gt; (default C)</samp>&rsquo;</dt>
<dd>
<p>Set the locale of the program to
<strong>locale
</strong>. See setlocale(3)
for more information.
</p></dd>
<dt>&lsquo;<samp>wordlist_lowercase {true|false} &lt;number&gt; (default true)</samp>&rsquo;</dt>
<dd>
<p>If a word contains upper case letters it is converted to lowercase
if this configuration parameter is true, otherwise it is left
untouched.
</p></dd>
<dt>&lsquo;<samp>wordlist_maximum_word_length &lt;number&gt; (default 25)</samp>&rsquo;</dt>
<dd>
<p>The maximum length of a word.
See the
<strong>Normalize
</strong> method for more information.
</p></dd>
<dt>&lsquo;<samp>wordlist_mimimun_word_length &lt;number&gt; (default 3)</samp>&rsquo;</dt>
<dd>
<p>The minimum length of a word.
See the
<strong>Normalize
</strong> method for more information.
</p></dd>
<dt>&lsquo;<samp>wordlist_monitor {true|false} (default false)</samp>&rsquo;</dt>
<dd>
<p>If true create a
<code>WordMonitor
</code> instance to gather statistics and 
build reports.
</p></dd>
<dt>&lsquo;<samp>wordlist_monitor_output &lt;file&gt;[,{rrd,readable] (default stderr)</samp>&rsquo;</dt>
<dd>
<p>Print reports on
<strong>file
</strong> instead of the default
<strong>stderr
</strong>.
If
<strong>type
</strong> is set to
<strong>rrd
</strong> the output is fit for the
<code>benchmark-report
</code> script. Otherwise it a (hardly :-) readable
string.
</p></dd>
<dt>&lsquo;<samp>wordlist_monitor_period &lt;sec&gt; (default 0)</samp>&rsquo;</dt>
<dd>
<p>If the value
<strong>sec
</strong> is a positive integer, set a timer to
print reports every
<strong>sec
</strong> seconds. The timer is set using
the ALRM signal and will fail if the calling application already
has a handler on that signal.
</p></dd>
<dt>&lsquo;<samp>wordlist_page_size &lt;bytes&gt; (default 8192)</samp>&rsquo;</dt>
<dd>
<p>Berkeley DB page size (see Berkeley DB documentation)
</p></dd>
<dt>&lsquo;<samp>wordlist_truncate {true|false} &lt;number&gt; (default true)</samp>&rsquo;</dt>
<dd>
<p>If a word is too long according to
the
<code>wordlist_maximum_word_length
</code> it is truncated
if this configuration parameter is
<code>true
</code> otherwise it
is considered an invalid word.
</p></dd>
<dt>&lsquo;<samp>wordlist_valid_punctuation [characters] (default none)</samp>&rsquo;</dt>
<dd>
<p>A list of punctuation characters that may appear in a word. 
These characters will be removed from the word before insertion
in the index.
</p></dd>
<dt>&lsquo;<samp>wordlist_verbose &lt;number&gt; (default 0)</samp>&rsquo;</dt>
<dd>
<p>Set the verbosity level of the WordList class.
</p>

<p>1 walk logic
</p>

<p>2 walk logic details
</p>

<p>3 walk logic lots of details
</p></dd>
<dt>&lsquo;<samp>wordlist_wordkey_description &lt;desc&gt; (no default)</samp>&rsquo;</dt>
<dd>
<p>Describe the structure of the inverted index key.
In the following explanation of the
<code>&lt;desc&gt;
</code> format,
mandatory words are
in bold and values that must be replaced in italic.
</p>

<p><strong>Word
</strong>
<code>bits/name bits
</code>[/...]
</p>

<p>The
<code>name
</code> is an alphanumerical symbolic name for the key field.
The
<code>bits
</code> is the number of bits required to store this field.
Note that all values are stored in unsigned integers (unsigned int).
Example:
</p><div class="example">
<pre class="example">Word 8/Document 16/Location 8
</pre></div>
</dd>
<dt>&lsquo;<samp>wordlist_wordkey_document [field ...] (default none)</samp>&rsquo;</dt>
<dd>
<p>A white space separated list of field numbers that define a document.
The field number list must not contain gaps. For instance 1 2 3 is 
valid but 1 3 4 is not valid.
This configuration parameter is not used by the mifluz library
but may be used by a query application to define the semantic of 
a document. In response to a query, the application will return a
list of results in which only distinct documents will be shown.
</p></dd>
<dt>&lsquo;<samp>wordlist_wordkey_location field (default none)</samp>&rsquo;</dt>
<dd>
<p>A single field number that contains the position of a word in a
given document.
This configuration parameter is not used by the mifluz library
but may be used by a query application.
</p></dd>
<dt>&lsquo;<samp>wordlist_wordrecord_description {NONE|DATA|STR} (no default)</samp>&rsquo;</dt>
<dd>
<p>NONE: the record is empty
</p>

<p>DATA: the record contains an integer (unsigned int)
</p>

<p>STR: the record contains a string (String)
</p></dd>
</dl>


<hr>
<div class="header">
<p>
Next: <a href="mifluz-ENVIRONMENT.html#mifluz-ENVIRONMENT" accesskey="n" rel="next">mifluz ENVIRONMENT</a>, Previous: <a href="mifluz-CLASSES-AND-COMMANDS.html#mifluz-CLASSES-AND-COMMANDS" accesskey="p" rel="previous">mifluz CLASSES AND COMMANDS</a>, Up: <a href="mifluz.html#mifluz" accesskey="u" rel="up">mifluz</a> &nbsp; [<a href="Concept-Index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
