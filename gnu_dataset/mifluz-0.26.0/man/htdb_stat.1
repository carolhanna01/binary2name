
'''
''' Part of the ht://Dig package   <http://www.htdig.org/>
''' Copyright (c) 1999, 2000, 2001 The ht://Dig Group
''' For copyright details, see the file COPYING in your distribution
''' or the GNU General Public License version 2 or later
''' <http://www.gnu.org/copyleft/gpl.html>
''' 
''' 
.TH htdb_stat 1 local
.SH NAME
htdb_stat \-

displays statistics for Berkeley DB environments.


.SH SYNOPSIS
.nf
.ft CW

htdb_stat [-celmNtzW] [-C Acfhlmo] [-d file [-s file]] [-h home] [-M Ahlm]
.ft R
.fi

.SH DESCRIPTION

htdb_stat is a slightly modified version of the standard Berkeley
DB db_stat utility which displays statistics for Berkeley DB
environments.


.SH OPTIONS

.TP
.B 
.B -W
Initialize WordContext(3) before gathering statistics. With the
.B -z
flag allows to gather statistics on inverted indexes generated
with the mifluz(3) specific
compression scheme. The MIFLUZ_CONFIG environment variable must be
set to a file containing the mifluz(3) configuration.
.TP
.B 
.B -z
The
.B file
is compressed. If
.B -W
is given the
mifluz(3) specific compression scheme is used. Otherwise the default
gzip compression scheme is used.
.TP
.B 
.B -C
Display internal information about the lock region.
(The output from this option is often both voluminous and meaningless,
and is intended only for debugging.)
.TP
.B 
.B A
Display all information.
.TP
.B 
.B c
Display lock conflict matrix.
.TP
.B 
.B f
Display lock and object free lists.
.TP
.B 
.B l
Display lockers within hash chains.
.TP
.B 
.B m
Display region memory information.
.TP
.B 
.B o
Display objects within hash chains.
.PP
.TP
.B 
.B -c
Display lock region statistics.
.TP
.B 
.B -d
Display database statistics for the specified database.
If the database contains subdatabases, the statistics
are for the database or subdatabase specified, and not for the database
as a whole.
.TP
.B 
.B -e
Display current environment statistics.
.TP
.B 
.B -h
Specify a home directory for the database.
.TP
.B 
.B -l
Display log region statistics.
.TP
.B 
.B -M
Display internal information about the shared memory buffer pool.
(The output from this option is often both voluminous and meaningless,
and is intended only for debugging.)
.TP
.B 
.B A
Display all information.
.TP
.B 
.B h
Display buffers within hash chains.
.TP
.B 
.B l
Display buffers within LRU chains.
.TP
.B 
.B m
Display region memory information.
.PP
.TP
.B 
.B -m
Display shared memory buffer pool statistics.
.TP
.B 
.B -N
Do not acquire shared region locks while running.  Other problems such
as potentially fatal errors in Berkeley DB will be ignored as well.  This option
is intended only for debugging errors and should not be used under any
other circumstances.
.TP
.B 
.B -s
Display database statistics for the specified subdatabase of the
database specified with the
.B -d
flag.
.TP
.B 
.B -t
Display transaction region statistics.
.TP
.B 
.B -V
Write the version number to the standard output and exit.
.PP

Only one set of statistics is displayed for each run, and the last option
specifying a set of statistics takes precedence.

Values smaller than 10 million are generally displayed without any special
notation.  Values larger than 10 million are normally displayed as
.B <number>M
.

The htdb_stat utility attaches to one or more of the Berkeley DB shared memory
regions.  In order to avoid region corruption, it should always be given
the chance to detach and exit gracefully.  To cause htdb_stat to clean up
after itself and exit, send it an interrupt signal (SIGINT).


.SH ENVIRONMENT

.B DB_HOME
If the
.B -h
option is not specified and the environment variable
DB_HOME is set, it is used as the path of the database home.


.B MIFLUZ_CONFIG
file name of configuration file read by WordContext(3). Defaults to
.B ~/.mifluz.


.SH AUTHORS

Sleepycat Software http://www.sleepycat.com/

Loic Dachary loic@gnu.org

The Ht://Dig group http://dev.htdig.org/


.SH SEE ALSO
htdb_dump(1), htdb_load(1), mifluzdump(1), mifluzload(1), mifluzsearch(1), mifluzdict(1), WordContext(3), WordList(3), WordDict(3), WordListOne(3), WordKey(3), WordKeyInfo(3), WordType(3), WordDBInfo(3), WordRecordInfo(3), WordRecord(3), WordReference(3), WordCursor(3), WordCursorOne(3), WordMonitor(3), Configuration(3), mifluz(3)

