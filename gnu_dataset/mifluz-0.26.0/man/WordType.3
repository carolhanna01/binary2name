
'''
''' Part of the ht://Dig package   <http://www.htdig.org/>
''' Copyright (c) 1999, 2000, 2001 The ht://Dig Group
''' For copyright details, see the file COPYING in your distribution
''' or the GNU General Public License version 2 or later
''' <http://www.gnu.org/copyleft/gpl.html>
''' 
''' 
.TH WordType 3 local
.SH NAME
WordType \-
defines a word in term of allowed characters, length etc.


.SH SYNOPSIS
.nf
.ft CW

Only called thru WordContext::Initialize()
.ft R
.fi

.SH DESCRIPTION

WordType defines an indexed word and operations to validate
a word to be indexed. All words inserted into the
.I mifluz
index
are
.B Normalize
d before insertion. The configuration options
give some control over the definition of a word.


.SH CONFIGURATION
For more information on the configuration attributes and a complete list of attributes, see the mifluz(3) manual page.
.TP
.B  wordlist_locale <locale> (default C)
Set the locale of the program to
.B locale
. See setlocale(3)
for more information.
.TP
.B  wordlist_allow_numbers {true|false} <number> (default false)
A digit is considered a valid character within a word if
this configuration parameter is set to
.I true
otherwise
it is an error to insert a word containing digits.
See the
.B Normalize
method for more information.
.TP
.B  wordlist_mimimun_word_length <number> (default 3)
The minimum length of a word.
See the
.B Normalize
method for more information.
.TP
.B  wordlist_maximum_word_length <number> (default 25)
The maximum length of a word.
See the
.B Normalize
method for more information.
.TP
.B  wordlist_allow_numbers {true|false} <number> (default false)
A digit is considered a valid character within a word if
this configuration parameter is set to
.I true
otherwise
it is an error to insert a word containing digits.
See the
.B Normalize
method for more information.
.TP
.B  wordlist_truncate {true|false} <number> (default true)
If a word is too long according to
the
.I wordlist_maximum_word_length
it is truncated
if this configuration parameter is
.I true
otherwise it
is considered an invalid word.
.TP
.B  wordlist_lowercase {true|false} <number> (default true)
If a word contains upper case letters it is converted to lowercase
if this configuration parameter is true, otherwise it is left
untouched.
.TP
.B  wordlist_valid_punctuation [characters] (default none)
A list of punctuation characters that may appear in a word. 
These characters will be removed from the word before insertion
in the index.
.PP

.SH METHODS
.TP
.B   int Normalize(String &s) const
Normalize a word according to configuration specifications and 
builtin transformations.
.B Every
word inserted in the inverted
index goes thru this function. If
a word is rejected (return value has WORD_NORMALIZE_NOTOK bit set) it will not 
be inserted in the index. If a word is accepted (return value has 
WORD_NORMALIZE_OK bit set) it will be inserted in the index. In
addition to these two bits, informational values are stored that
give information on the processing done on the word.
The bit field values and their meanings are
as follows:
.TP
.B WORD_NORMALIZE_TOOLONG
the word length exceeds the value of 
    the
.I wordlist_maximum_word_length
configuration parameter.
.TP
.B WORD_NORMALIZE_TOOSHORT
the word length is smaller than the value of 
    the
.I wordlist_minimum_word_length
configuration parameter.
.TP
.B WORD_NORMALIZE_CAPITAL
the word contained capital letters and has been converted 
    to lowercase. This bit is only set
    if the
.I wordlist_lowercase
configuration parameter
    is true.
.TP
.B WORD_NORMALIZE_NUMBER
the word contains digits and the configuration 
    parameter
.I wordlist_allow_numbers
is set to false.
.TP
.B WORD_NORMALIZE_CONTROL
the word contains control characters.
.TP
.B WORD_NORMALIZE_BAD
the word is listed in the file pointed by 
    the
.I wordlist_bad_word_list
configuration parameter.
.TP
.B WORD_NORMALIZE_NULL
the word is a zero length string.
.TP
.B WORD_NORMALIZE_PUNCTUATION
at least one character listed in 
    the
.I wordlist_valid_punctuation
attribute was removed
    from the word.
.TP
.B WORD_NORMALIZE_NOALPHA
the word does not contain any alphanumerical character.
.PP
.TP
.B   static String NormalizeStatus(int flags)
Returns a string explaining the return flags of the Normalize
method.
.PP

.SH AUTHORS
Loic Dachary loic@gnu.org

The Ht://Dig group http://dev.htdig.org/


.SH SEE ALSO
htdb_dump(1), htdb_stat(1), htdb_load(1), mifluzdump(1), mifluzload(1), mifluzsearch(1), mifluzdict(1), WordContext(3), WordList(3), WordDict(3), WordListOne(3), WordKey(3), WordKeyInfo(3), WordDBInfo(3), WordRecordInfo(3), WordRecord(3), WordReference(3), WordCursor(3), WordCursorOne(3), WordMonitor(3), Configuration(3), mifluz(3)

