<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Lesson files</title><meta name="generator" content="DocBook XSL Stylesheets V1.71.0"><link rel="start" href="index.html" title="GNU Solfege Manual V3.5.1"><link rel="up" href="extending-solfege.html" title="Kapittel 4. Extending GNU Solfege"><link rel="prev" href="extending-solfege.html" title="Kapittel 4. Extending GNU Solfege"><link rel="next" href="harmonicinterval-module.html" title="The harmonicinterval module"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Lesson files</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="extending-solfege.html">Forrige</a> </td><th width="60%" align="center">Kapittel 4. Extending GNU Solfege</th><td width="20%" align="right"> <a accesskey="n" href="harmonicinterval-module.html">Neste</a></td></tr></table><hr></div><div class="sect1" lang="no"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="lesson-files"></a>Lesson files</h2></div></div></div><p>In GNU Solfege, each exercise is created by a lesson file
interpreted by one of the exercise modules.</p><p>If you create your own lesson files, you should save them in a directory
named <code class="filename">lessonfiles</code> in your home directory. On MS Windows
the directory is probably <code class="filename">C:\Documents and
Settings\yourusername</code>. To be sure, you can search for the file
<code class="filename">.solfegerc</code>.  The directory
<code class="filename">lessonfiles</code> should be created in the same directory as
<code class="filename">.solfegerc</code>.

Then you should add your lesson file to the <span class="guimenuitem">Practise</span>
menu. You do this with the learning tree editor available on the
<span class="guimenu">Edit</span> menu.</p><div class="variablelist"><p class="title"><b>Exercise modules</b></p><dl><dt><span class="term">
<code class="literal">harmonicintervals</code></span></dt><dd><p>Train harmonic intervals.</p></dd><dt><span class="term">
 <code class="literal">melodicintervals</code></span></dt><dd><p>Train one or more melodic intervals.</p></dd><dt><span class="term">
<code class="literal">singinterval</code></span></dt><dd><p>This is an exercise where the
program display an interval and play the first tone. Then the user
should sing the interval, and then click a button to hear the correct
answer. There is no microphone support yet.</p></dd><dt><span class="term">
<code class="literal">idbyname</code></span></dt><dd><p>This is a very
generic exercise. In its most basic form, the program will play some sound,
and you have to select among several buttons that in some way represents
the music.</p></dd><dt><span class="term">
<code class="literal">chord</code></span></dt><dd><p>The chord module act as a specialized
idbyname module. The difference is that with the chord module
you can write lesson files where the user should tell what inversion the
chord is in, and what the top tone is.</p></dd><dt><span class="term">
<code class="literal">chordvoicing</code></span></dt><dd><p>A two-step
exercise. First you should identify the chord. Then you should stack the
tones in the chord in the correct order.</p></dd><dt><span class="term">
<code class="literal">compareintervals</code></span></dt><dd><p>Solfege
plays two intervals, and you should say which one is largest.</p></dd><dt><span class="term">
<code class="literal">rhythm</code></span></dt><dd><p>A simple rhythm exercise. Solfege will randomly generate
rhythm patterns that the user should recreate by clicking on
buttons.</p></dd><dt><span class="term"><code class="literal">dictation</code></span></dt><dd><p></p></dd><dt><span class="term"><code class="literal">harmonicprogressiondictation</code></span></dt><dd><p></p></dd><dt><span class="term"><code class="literal">idtone</code></span></dt><dd><p></p></dd><dt><span class="term"><code class="literal">identifybpm</code></span></dt><dd><p></p></dd><dt><span class="term"><code class="literal">twelvetone</code></span></dt><dd><p></p></dd><dt><span class="term"><code class="literal">singchord</code></span></dt><dd><p></p></dd></dl></div><div class="sect2" lang="no"><div class="titlepage"><div><div><h3 class="title"><a name="File-encoding"></a>File encoding</h3></div></div></div><a class="indexterm" name="id2548380"></a><p>Solfege by default expect the content of lesson files to be in
UTF-8 encoding. <span><strong class="command">gedit</strong></span> is a nice little editor that let you edit
unicode files.</p><p>If you don't like unicode, you can tell
Solfege that the file has another encoding by inserting a special
comment line as the first line of the file. The following example set
the charset to ISO 8859-1, a charset commonly used in many west-european
languages:</p><pre class="programlisting"># -*- coding: iso-8859-1 -*-</pre><p>Russians might want to use koi8-r:</p><pre class="programlisting"># -*- coding: koi8-r -*-</pre><p>The program use the python libs to convert to unicode, so it
should understand almost any encoding you can think of. If you see some
characters are missing, for example when the name of questions are
displayed on buttons, then most likely you have done something wrong
with the encoding.</p></div><div class="sect2" lang="no"><div class="titlepage"><div><div><h3 class="title"><a name="Comments"></a>Comments</h3></div></div></div><a class="indexterm" name="id2548431"></a><p>Everything after # on a line is ignored. Example:</p><pre class="programlisting"># This line is ignored. The next line is not.
question { bla bla }
</pre></div><div class="sect2" lang="no"><div class="titlepage"><div><div><h3 class="title"><a name="Types"></a>Types</h3></div></div></div><div class="sect3" lang="no"><div class="titlepage"><div><div><h4 class="title"><a name="id2548455"></a>Strings</h4></div></div></div><a class="indexterm" name="id2548461"></a><p>Strings are quoted with the <code class="literal">"</code> character. Example:</p><pre class="programlisting">"this is a string"</pre><p>Use tripple quotes for strings that contain line breaks, or
if the string itself has to contain the <code class="literal">"</code> character:</p><pre class="programlisting">
description = """&lt;h1&gt;Long desription&lt;h1&gt; This lessonfile need
very much descriptions. Qoutes (") are ok here. bla bla bla"""</pre><p>NB: All strings have to be unicode strings. If you get error messages like this one:</p><pre class="programlisting">
In line 21 of input: does not recognise this string ';lt;' as a valid token.'
(line 20): question {
(line 21): question {
(line 22):   name = _("Ionia�)
</pre><p>then you must check the encoding of your file, and maybe you should
read <a href="lesson-files.html#File-encoding" title="File encoding">“File encoding”</a>. You can change the encoding of a file using the <span><strong class="command">iconv</strong></span> program:</p><pre class="programlisting">iconv -f YOUR_ENCODING -t utf8 your.file</pre></div><div class="sect3" lang="no"><div class="titlepage"><div><div><h4 class="title"><a name="id2548522"></a>Tempo</h4></div></div></div><p>The tempo of music is entered as <code class="literal">bpm/beatlen</code>. The
following example will set the tempo to 120 beats per minute, each beat being a
quarter note.</p><pre class="programlisting">tempo = 120/4</pre></div></div><div class="sect2" lang="no"><div class="titlepage"><div><div><h3 class="title"><a name="Global-variables"></a>Global variables</h3></div></div></div><a class="indexterm" name="id2548552"></a><p>Global variables can save you a few key strokes.</p><pre class="programlisting">
s = "\score\relative c'{ %s }
question {
# instead of music = music("\score\relative c'{ c d e f g2 g2 }") 
music = music(s % "c d e f g2 g")
}
</pre></div><div class="sect2" lang="no"><div class="titlepage"><div><div><h3 class="title"><a name="Lesson-file-contents"></a>Lesson file contents</h3></div></div></div><p>A lesson file consist of one header block and zero or more
question blocks:</p><pre class="programlisting">
header {
 ASSIGNMENT
 ASSIGNMENT
 ...
}
question {
 ASSIGNMENT
 ...
}
</pre></div><div class="sect2" lang="no"><div class="titlepage"><div><div><h3 class="title"><a name="Header-block"></a>Header block</h3></div></div></div><a class="indexterm" name="id2548600"></a><p>The header block can be placed anywhere in the file, but by convention it should be the first block in the file.</p><div class="variablelist"><a name="lesson-header-vars"></a><p class="title"><b>Variables shared by many exercise modules</b></p><dl><dt><span class="term">
 
 <code class="varname"><a name="lf-module"></a>module</code></span></dt><dd><p>Tell what execise module that will run the lesson file. This
 variable is requried for all lesson files. (The variable was added in
 Solfege 2.9.0 where it replaced the <code class="varname">content</code>
 variable.). Example:</p><pre class="programlisting">module = idbyname</pre></dd><dt><span class="term"><code class="literal"><a name="lf-lesson_id"></a>lesson_id</code></span></dt><dd><a class="indexterm" name="id2548869"></a><p>Each file need a unique identifier. The identifier can be any string
  you like, and if you don't add one, Solfege will add one for you. Solfege
  will also offer to create a new <code class="literal">lesson_id</code> if you have
  two files with identical <code class="literal">lesson_id</code>. Example:
  </p><pre class="programlisting">lesson_id = "5b30c9ae-09f1-40b3-9333-4789638dc851"</pre></dd><dt><span class="term">
<code class="varname"><a name="lf-version"></a>version</code></span></dt><dd><p>
<a class="indexterm" name="id2548911"></a>
Tell the version of
solfege the lessonfile is known to work with. This variable is not
required, but it should be used because it can (but don't guarantee to)
help avoid trouble if the lesson file format changes in the future.
Example:</p><pre class="programlisting">version = "3.0.7"</pre></dd><dt><span class="term">

<code class="varname"><a name="lf-title"></a>title</code></span></dt><dd><p>
<a class="indexterm" name="id2548947"></a>
Short one-line description that will be used for
creating the menu entry for the exercise. You should add this to all lesson
files. Example:</p><pre class="programlisting">title = "Minor and major chords in root position"</pre></dd><dt><span class="term">

<code class="varname"><a name="lf-lesson_heading"></a>lesson_heading</code></span></dt><dd><p>
<a class="indexterm" name="id2548990"></a>
A short heading that will be displayed above the exercise. It
should say what the purpose of the exercise is. Some modules provide a
default value, others leave the string empty. Example:</p><pre class="programlisting">lesson_heading = _("Identify the chord")</pre></dd><dt><span class="term">

<code class="varname"><a name="lf-help"></a>help</code></span></dt><dd><p>
<a class="indexterm" name="id2549021"></a>
This variable say which help file from the user manual will be
displayed when the user presses F1.
Example:</p><pre class="programlisting">help = "idbyname-intonation"</pre><p>By default, Solfege will display the help file that has the same
name as the exercise module being used in the lesson file.</p></dd><dt><span class="term">

<code class="varname"><a name="lf-theory"></a>theory</code></span></dt><dd><p>
<a class="indexterm" name="id2549056"></a>
This variable say which help file from the user manual will be
displayed when the user presses F3. Pressing F3 should display
music theory about the exercise. Don't include this variable if there
are no music theory written.
Example:</p><pre class="programlisting">theory = "scales/maj"</pre></dd><dt><span class="term">

<code class="varname">random_transpose</code></span></dt><dd><a class="indexterm" name="id2549086"></a><p>In some exercises the program can transpose the music to
create variation. The default value is <code class="literal">yes</code>. (The
default value changed from <code class="literal">no</code> to
<code class="literal">yes</code> in Solfege 3.0.)</p><p>Used in modules: <code class="literal">chord</code>,
<code class="literal">chordvoicing</code>, <code class="literal">harmonicprogressiondictation</code>,
<code class="literal">idbyname</code>, <code class="literal">singanswer</code>,
<code class="literal">singchord</code></p><div class="variablelist"><p class="title"><b>Possible values</b></p><dl><dt><span class="term">random_transpose = no</span></dt><dd><p>No transposition will be done.</p></dd><dt><span class="term">random_transpose = yes</span></dt><dd><p>The exercise will do random transposition. What
            kind of transposition depends on the exercise, but you get a
            ok result from this. This is the default value.</p></dd><dt><span class="term">random_transpose = accidentals, INTEGER1, INTEGER2</span></dt><dd><p>
              Transpose the question by random and make sure the key signature
              of the question does not get more than a certain number of
              accidentals.  In this context, the number of accidentals can be
              described by an integer value. A negative value denote a number of
              flats (b), and a positive number denote a number o sharps (#).
              Zero mean no accidentals.  The integers INTEGER1 and INTEGER2
              defines a range of allowed number of accidentals.
            </p><p>
              For this transposition mode to work properly, the music in
              the lessonfile has to be in the keys c major or a minor,
              or the question must have a <code class="varname">key</code>
              variable telling the key signature.
            </p></dd><dt><span class="term">random_transpose = key, INTEGER1, INTEGER2</span></dt><dd><p>
              Transpose the music INTEGER1 steps down or INTEGER2 steps up the
              circle of fifth. In this context up is more sharps and down is
              more flats. This is real transposition where both the key and the
              notes are transposed.
            </p></dd><dt><span class="term">random_transpose = semitones, INTEGER1, INTEGER2</span></dt><dd><p>
              Transpose the music at most INTEGER1 semitones down or INTEGER2
              semitones up. This is real transposition where both the key and
              the notes are transposed. You will easily end up with music in the
              keys with LOTS of accidentals.
            </p></dd></dl></div></dd><dt><span class="term"><code class="literal">enable_right_click = no</code></span></dt><dd><p>By default, Solfege will let the user right-click on buttons to hear
    the music they represent without guessing. Set this variable to
    <code class="literal">no</code> for lesson files where it does not make sense, for
    example in a <code class="literal">idbyname</code> lesson file where many questions
    have the same name.</p><p>Modules: <code class="literal">idbyname</code>, <code class="literal">chordvoicing</code>
    and <code class="literal">chord</code>.</p></dd><dt><span class="term">
    
    <code class="varname"><a name="lf-disable_unused_intervals"></a>disable_unused_intervals</code>
    
    <code class="literal">
    = no</code></span></dt><dd><p>By default, Solfege will make the buttons insensitive for intervals
    that are not being asked. Set this variable to <code class="literal">no</code> if you
    want all buttons to be sensitive.
    </p><p>Modules: <code class="literal">harmonicinterval</code> and
    <code class="literal">melodicinterval</code>.</p></dd><dt><span class="term"><code class="literal"><a name="lf-ask_for_intervals"></a>ask_for_intervals_0</code></span></dt><dd><p>Select which intervals to ask for. 1 for minor second, 2 for major
    second, 3 or minor third etc. Use a negative number for descending
    intervals. To ask for more that one interval create the variables
    <code class="literal">ask_for_intervals_1</code>,
    <code class="literal">ask_for_intervals_2</code> etc. In the following example
    Solfege will ask for two intervals. The first will be either a minor second
    or a major second, both intervals going up. And the second interval will be
    either major second or minor third, both intervals going down.</p><pre class="programlisting">ask_for_intervals_0 = [1, 2]
ask_for_intervals_1 = [-2, -3]
    </pre><p>Modules: <code class="literal">melodicinterval</code> and
    <code class="literal">singinterval</code>.</p></dd><dt><span class="term"><code class="varname"><a name="lf-intervals"></a>intervals</code></span></dt><dd><p>This variable tell which intervals should be asked for in exercises
    using the <code class="literal">harmonicinterval</code> module. 1 for minor second, 2 for major
    second, 3 or minor third etc. Example that will practise thirds:</p><pre class="programlisting">intervals = [3, 4]</pre><p>Modules: <code class="literal">harmonicinterval</code>.</p></dd><dt><span class="term">
    <a class="indexterm" name="id2549456"></a><code class="varname"><a name="lf-test"></a>test</code></span></dt><dd><p>
        This variable defines the test for the exercise. In a test,
        Solfege will ask all the questions in the lesson file a number
        of times. 
        This variable is always used together with <code class="varname">test_requirement</code>.
        In the following example, each question will be asked
        3 times:
    </p><pre class="programlisting">test = "3x"</pre><p>Modules: <code class="literal">harmonicinterval</code>,
        <code class="literal">idbyname</code>, <code class="literal">melodicinterval</code>
        and <code class="literal">singinterval</code>.</p></dd><dt><span class="term">
    
    <code class="varname"><a name="lf-test_requirement"></a>test_requirement</code></span></dt><dd><p>
    <a class="indexterm" name="id2549529"></a>
    This variable defines how large percentage of the questions
    has to be answered correctly to pass the test. Example:
    </p><pre class="programlisting">test_requirement = "90%"</pre><p>Modules: <code class="literal">harmonicinterval</code>,
        <code class="literal">idbyname</code>, <code class="literal">melodicinterval</code>
        and <code class="literal">singinterval</code>.</p></dd><dt><span class="term">
    
    <code class="varname"><a name="lf-have_repeat_arpeggio_button"></a>have_repeat_arpeggio_button</code>
    
    <code class="literal">= yes</code></span></dt><dd><p>Set to <code class="literal">yes</code> if you want the exercise to have a
    "Repeat arpeggio" button.</p><p>Modules: <code class="literal">singanswer</code>.</p></dd><dt><span class="term">
    
    <code class="varname"><a name="lf-have_music_displayer"></a>have_music_displayer</code>
    
    <code class="literal">= yes</code></span></dt><dd><p>Set to <code class="literal">yes</code> if you want the question to have a
    music displayer.</p><p>In the idbyname module, setting this variable will add a
    music displayer where the program will display the answer when the
    user gives up or answers the question correctly. You might also want
    to read about <a href="lesson-files.html#lf-at_question_start">at_question_start</a>.</p><p>In the <code class="literal">singanswer</code> module, setting this variable
    will add a music displayer where the music will be displayed when
    the question is displayed.</p><p>Modules: <code class="literal">idbyname</code>,
       <code class="literal">elembuilder</code> and
       <code class="literal">singanswer</code>.</p></dd><dt><span class="term">
    
    <code class="varname"><a name="lf-at_question_start"></a>at_question_start</code>
    <a class="indexterm" name="id2549694"></a>
    
    <code class="literal"></code></span></dt><dd><p>This variable changes what happens when the user clicks
    <span class="guibutton">New</span>. By default, Solfege will play the music when
    the user clicks <span class="guibutton">New</span>, and only display the music
    when the question is answered correctly and the
    <code class="varname">have_music_displayer</code> variable is set to
    <code class="literal">yes</code>. Setting this variable will also set
    <code class="varname">have_music_displayer</code> to <code class="literal">yes</code>.
    </p><div class="variablelist"><dl><dt><span class="term"><code class="literal">at_question_start = show</code></span></dt><dd><p>The exercise will get a <span class="guibutton">Play music</span> button.
        When the user clicks <span class="guibutton">New</span> the music will be
        displayed in the music displayer, but no music is played. Click
        <span class="guibutton">Play music</span> to hear the music.</p></dd><dt><span class="term"><code class="literal">at_question_start = play</code></span></dt><dd><p>The exercise will get a <span class="guibutton">Display music</span>
        button. When the user clicks <span class="guibutton">New</span> the music is
        played. Click <span class="guibutton">Display music</span> to see the
        music.</p></dd><dt><span class="term"><code class="literal">at_question_start = show, play</code></span></dt><dd><p>When the user clicks <span class="guibutton">New</span> the music is both
        played and displayed.</p></dd></dl></div><p>Modules: <code class="literal">idbyname</code>, <code class="literal">elembuilder</code>
      and <code class="literal">rhythmtapping2</code>.</p></dd><dt><span class="term"><code class="literal"><a name="lf-rhythm_elements"></a>rhythm_elements</code></span></dt><dd><p>A list of integers (1-34) telling what elementes we should use when
    creating questions. Example:</p><pre class="programlisting">rhythm_elements = 0, 1, 2, 3, 4</pre><p>
0:<span class="inlinemediaobject"><img src="../../graphics/rhythm-c4.png" alt="c4"></span> , 
1:<span class="inlinemediaobject"><img src="../../graphics/rhythm-c8c8.png" alt="c8 c8"></span> , 
2:<span class="inlinemediaobject"><img src="../../graphics/rhythm-c16c16c16c16.png" alt="c16 c16 c16 c16"></span> , 
3:<span class="inlinemediaobject"><img src="../../graphics/rhythm-c8c16c16.png" alt="c8 c16 c16"></span> , 
4:<span class="inlinemediaobject"><img src="../../graphics/rhythm-c16c16c8.png" alt="c16 c16 c8"></span> , 
5:<span class="inlinemediaobject"><img src="../../graphics/rhythm-c16c8c16.png" alt="c16 c8 c16"></span> , 
6:<span class="inlinemediaobject"><img src="../../graphics/rhythm-c8.c16.png" alt="c8. c16"></span> , 
7:<span class="inlinemediaobject"><img src="../../graphics/rhythm-c16c8..png" alt="c16 c8."></span> , 
8:<span class="inlinemediaobject"><img src="../../graphics/rhythm-r4.png" alt="r4"></span> , 
9:<span class="inlinemediaobject"><img src="../../graphics/rhythm-r8c8.png" alt="r8c8"></span> , 
10:<span class="inlinemediaobject"><img src="../../graphics/rhythm-r8c16c16.png" alt="r8 c16 c16"></span> , 
11:<span class="inlinemediaobject"><img src="../../graphics/rhythm-r16c16c8.png" alt="r16 c16 c8"></span> , 
12:<span class="inlinemediaobject"><img src="../../graphics/rhythm-r16c8c16.png" alt="r16c8c16"></span> , 
13:<span class="inlinemediaobject"><img src="../../graphics/rhythm-r16c16c16c16.png" alt="r16 c16 c16 c16"></span> , 
14:<span class="inlinemediaobject"><img src="../../graphics/rhythm-r8r16c16.png" alt="r8 r16 c16"></span> , 
15:<span class="inlinemediaobject"><img src="../../graphics/rhythm-r16c8..png" alt="r16 c8."></span> , 
16:<span class="inlinemediaobject"><img src="../../graphics/rhythm-c12c12c12.png" alt="c12 c12 c12"></span> , 
17:<span class="inlinemediaobject"><img src="../../graphics/rhythm-r12c12c12.png" alt="r12 c12 c12"></span> , 
18:<span class="inlinemediaobject"><img src="../../graphics/rhythm-c12r12c12.png" alt="c12 r12 c12"></span> , 
19:<span class="inlinemediaobject"><img src="../../graphics/rhythm-c12c12r12.png" alt="c12 c12 r12"></span> , 
20:<span class="inlinemediaobject"><img src="../../graphics/rhythm-r12r12c12.png" alt="r12 r12 c12"></span> , 
21:<span class="inlinemediaobject"><img src="../../graphics/rhythm-r12c12r12.png" alt="r12 c12 r12"></span> , 
22:<span class="inlinemediaobject"><img src="../../graphics/rhythm-c4..png" alt="c4."></span> , 
23:<span class="inlinemediaobject"><img src="../../graphics/rhythm-c4c8.png" alt="c4 c8"></span> , 
24:<span class="inlinemediaobject"><img src="../../graphics/rhythm-c8c4.png" alt="c8 c4"></span> , 
25:<span class="inlinemediaobject"><img src="../../graphics/rhythm-c8c8c8.png" alt="c8 c8 c8"></span> , 
26:<span class="inlinemediaobject"><img src="../../graphics/rhythm-c4c16c16.png" alt="c4 c16 c16"></span> , 
27:<span class="inlinemediaobject"><img src="../../graphics/rhythm-c16c16c4.png" alt="c16 c16 c4"></span> , 
28:<span class="inlinemediaobject"><img src="../../graphics/rhythm-c8c8c16c16.png" alt="c8 c8 c16 c16"></span> , 
29:<span class="inlinemediaobject"><img src="../../graphics/rhythm-c8c16c16c8.png" alt="c8 c16 c16 c8"></span> , 
30:<span class="inlinemediaobject"><img src="../../graphics/rhythm-c16c16c8c8.png" alt="c16 c16 c8 c8"></span> , 
31:<span class="inlinemediaobject"><img src="../../graphics/rhythm-c8c16c16c16c16.png" alt="c8 c16 c16 c16 c16"></span> , 
32:<span class="inlinemediaobject"><img src="../../graphics/rhythm-c16c16c8c16c16.png" alt="c16 c16 c8 c16 c16"></span> , 
33:<span class="inlinemediaobject"><img src="../../graphics/rhythm-c16c16c16c16c8.png" alt="c16 c16 c16 c16 c8"></span> , 
34:<span class="inlinemediaobject"><img src="../../graphics/rhythm-c16c16c16c16c16c16.png" alt="c16 c16 c16 c16 c16 c16"></span> </p><p>Modules: <code class="literal">rhythm</code> and <code class="literal">rhythmtapping2</code></p></dd></dl></div><div class="sect3" lang="no"><div class="titlepage"><div><div><h4 class="title"><a name="id2550663"></a>Variables that has been obsoleted</h4></div></div></div><div class="variablelist"><dl><dt><span class="term"><code class="literal">number_of_intervals = INTEGER</code></span></dt><dd><p>Made obsolete in Solfege 3.1.5. Solfege will find this number automatically now, so this variable is ignored.</p></dd></dl></div></div></div><div class="sect2" lang="no"><div class="titlepage"><div><div><h3 class="title"><a name="Question-block"></a>Question block</h3></div></div></div><div class="variablelist"><p class="title"><b>Variables you can define in the question block</b></p><dl><dt><span class="term"><code class="literal"><a name="lf-name"></a>name</code></span></dt><dd><p>Questions written for the <a href="idbyname-module.html" title="The idbyname module">idbyname</a> or
    the <a href="chord-module.html" title="The chord module">chord</a> exercise modules need a name.</p></dd><dt><span class="term"><code class="literal"><a name="lf-music"></a>music</code></span></dt><dd><p>
    For most lesson files the music representing the question is assigned to
    this variable. Note that there is a shortcut. Instead of:</p><pre class="programlisting">question {
  name = "Lisa gikk til skolen"
  music = music(...)"
}
</pre><p>you can write:</p><pre class="programlisting">question {
  name = "Lisa gikk til skolen"
  music(...)
}
</pre><p>Music objects are documented in <a href="lesson-files.html#music-object" title="music objects">“<code class="literal">music</code> objects”</a>.</p></dd><dt><span class="term"><code class="literal"><a name="lf-tempo"></a>tempo</code></span></dt><dd><p>Set the tempo for this questions music. The variable is defined
    "beats per minute" / "notelen per beat". Example:</p><pre class="programlisting">tempo = 150 / 4</pre><p>This variable can also be defined globally for the whole lesson file.
    Do do so you should put it in the beginning of the file, outside any
    question blocks.</p><p>Modules: <code class="literal">idbyname</code>, <code class="literal">chord</code>,
        <code class="literal">chordvoicing</code> and
        <code class="literal">rhythmtapping</code>.</p></dd><dt><span class="term"><code class="literal">instrument</code></span></dt><dd><p>By default, Solfege will use the instrument specified on the
     <a href="preferences-window.html" title="Preferences window">preferences window</a> when playing questions. This variable let you select a different instrument. Example:
    </p><pre class="programlisting">instrument = "cello", 100</pre><p>The instrument name has to be quoted. The integer is the velocity
    of the tones, and it should be in the range 0-127. You can see a list of
    instrument names in <a href="midi-instrument-names.html" title="Midi instrument names">“Midi instrument names”</a>. For lesson
    files where it makes sense, it is possible to specify three set of
    instruments. The following example will play bass for the lowest tone,
    piano in the middle and clarinet on the top tone:</p><pre class="programlisting">instrument = "bass", 100, "acoustic grand", 100, "clarinet", 100</pre><p>This variable can also be defined globally for the whole lesson file.
    Do do so you should put it in the beginning of the file, outside any
    question blocks.</p><p>Modules: <code class="literal">idbyname</code>, <code class="literal">chord</code>,
        <code class="literal">singanswer</code> and <code class="literal">chordvoicing</code></p></dd></dl></div></div><div class="sect2" lang="no"><div class="titlepage"><div><div><h3 class="title"><a name="music-object"></a><code class="literal">music</code> objects</h3></div></div></div><p>Each question in your lesson files will define one or more
<code class="literal">music</code> objects.</p><div class="variablelist"><dl><dt><span class="term"><code class="literal">music</code></span></dt><dd><p>This is music entered completely following the  music format FIXME spec. This means you
    have to enter complete code with a <code class="literal">\staff</code> command. Example:</p><pre class="programlisting">variable = music("\staff\relative c' { c' d' }")</pre></dd><dt><span class="term"><code class="literal">chord</code></span></dt><dd><p>Enter the tones from the lowest to the highest tone, like this:</p><pre class="programlisting">variable = chord("c' e' g'")</pre></dd><dt><span class="term"><code class="literal">satb</code></span></dt><dd><p>This type of music is used by the singchord exercises. It let you
    say which tones of a chord the different voices in a choir will sing.
    Take this, for example:</p><pre class="programlisting">variable = satb("c''|e'|g|c")</pre><p>The <code class="literal">c''</code> will be sung by the soprano, <code class="literal">e'</code> by the alto, <code class="literal">g</code> by the tenor and
    <code class="literal">c</code> by the bass. Please notice that when this music
    is played in arpeggio, the tones to be sung by the women, will be played
    one octave deeper, of the user is a male. And vice versa if the user
    is a female or a child.</p></dd><dt><span class="term"><code class="literal">voice</code></span></dt><dd><p>This musictype saves some key strokes if you want to enter a melody.</p><pre class="programlisting">variable = voice("c'4 c' g' g' | a' a' g'2")</pre><p>is the same as</p><pre class="programlisting">variable = music("\staff{ c'4 c' g' g' | a' a' g'2")</pre></dd><dt><span class="term"><code class="varname"><a name="lf-rvoice"></a>rvoice</code></span></dt><dd><p><code class="varname">rvoice</code> is similar to <code class="varname">voice</code>
    except that the music is in <code class="literal">\relative</code> mode, relative
    to the first tone. The following two statements produce the same music:</p><pre class="programlisting">variable = rvoice("c'4 c g' g | a a g2")
\staff\relative c'{ c4 c g' g' | a a g2 }
    </pre></dd><dt><span class="term"><code class="varname"><a name="lf-percussion"></a>percussion</code></span></dt><dd><p>This music object provides a simple way to play
    rhythms with percussion instruments. Each tone represents a percussion
    instrument as defined in <a href="midi-instrument-names.html#percussion-instrument-names" title="Percussion instrument names">“Percussion instrument names”</a>.
    In the following example, the tone
    <span class="emphasis"><em>c</em></span> is translated to the midi sound <span class="emphasis"><em>Side
    Stick</em></span> and <span class="emphasis"><em>d</em></span> to a <span class="emphasis"><em>Mute
    triangle</em></span>.
    </p><pre class="programlisting">variable = rhythm("d4 d d d c8 c8 c4")</pre><p>
    </p></dd><dt><span class="term"><code class="varname"><a name="lf-rhythm"></a>rhythm</code></span></dt><dd><p>This music object let you write questions that taps rhythms with the
    two instruments defined in the preferences window. The tone
    <code class="literal">c</code> will play the rhythm representing the question,
    and the tone <code class="literal">d</code> can be used if you want to write some
    sort of "count-in" before the question starts. Example:</p><pre class="programlisting">rhythm("d4 d d d c8 c8 c4 c c8 c8")</pre><p>You should only use two pitches, <code class="literal">c</code> and
    <code class="literal">d</code>. Other pitches will print a warning, but will still
    work in the current implementation. To play real percussion with many
    different instruments you should use the <a href="lesson-files.html#lf-percussion">percussion</a> music object.</p></dd><dt><span class="term"><code class="literal">midifile</code></span></dt><dd><p>Play a midi file. The path given to the file
    is relative to the directory the lesson file is stored in. Example:</p><pre class="programlisting">variable = midifile("share/example.mid")</pre></dd><dt><span class="term"><code class="literal">wavfile</code></span></dt><dd><p>Play a <code class="literal">.wav</code> file. The path given to the file
    is relative to the directory the lesson file is stored in. Example:</p><pre class="programlisting">variable = wavfile("share/fifth-small-220.00.wav")</pre></dd><dt><span class="term"><code class="literal">cmdline</code></span></dt><dd><p>Run an external program. Example:</p><pre class="programlisting">cmdline("./bin/csound-play-harmonic-interval.sh 220.000000 320.100000")</pre></dd></dl></div></div><div class="sect2" lang="no"><div class="titlepage"><div><div><h3 class="title"><a name="functions"></a>Functions</h3></div></div></div><div class="variablelist"><dl><dt><span class="term"><code class="literal">_</code></span></dt><dd><p><code class="literal">_</code> takes a string as its only argument. Use this if you want Solfege to translate the string for you. Example:</p><pre class="programlisting">title = _("Bla bla title")</pre></dd><dt><span class="term"><code class="literal">include</code></span></dt><dd><p>Includes another file. Example:</p><pre class="programlisting">include("singchord-1")</pre><p>The lesson header variables will be taken from the including lesson
    file. Only a variable is only defined in the included lesson file, and not
    in the including lesson file, then the value will be taken from the
    included file.</p></dd></dl></div></div><div class="sect2" lang="no"><div class="titlepage"><div><div><h3 class="title"><a name="id2551330"></a>Operators</h3></div></div></div><p>Operators can only be used on strings. <code class="literal">+</code> is used for
joining strings, and <code class="literal">%</code> is similar to what you find in
python, but it is very limited. It only know about <code class="literal">%s</code>. One
example:</p><pre class="programlisting">"\staff\relative c'{%s}" % "c d e"</pre><p>evaluates to</p><pre class="programlisting">\staff\relative c'{c d e}</pre></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="extending-solfege.html">Forrige</a> </td><td width="20%" align="center"><a accesskey="u" href="extending-solfege.html">Opp</a></td><td width="40%" align="right"> <a accesskey="n" href="harmonicinterval-module.html">Neste</a></td></tr><tr><td width="40%" align="left" valign="top">Kapittel 4. Extending GNU Solfege </td><td width="20%" align="center"><a accesskey="h" href="index.html">Hjem</a></td><td width="40%" align="right" valign="top"> The <code class="literal">harmonicinterval</code> module</td></tr></table></div></body></html>
