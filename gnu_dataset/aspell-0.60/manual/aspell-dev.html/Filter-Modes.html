<html lang="en">
<head>
<title>Filter Modes - Aspell Developer's Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Aspell Developer's Manual">
<meta name="generator" content="makeinfo 4.7">
<link title="Top" rel="start" href="index.html#Top">
<link rel="prev" href="Filter-Interface.html#Filter-Interface" title="Filter Interface">
<link rel="next" href="Data-Structures.html#Data-Structures" title="Data Structures">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This is the developer's manual for Aspell

This manual is designed for those who wish to develop Aspell.
It is currently very sketchy.
However, it should improve over time.
The latest version of this document can be found at
`http://savannah.gnu.org/download/aspell/manual/devel/devel.html'.

Copyright (C) 2002, 2003, 2004 Kevin Atkinson.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.1 or any later version published by the Free Software
     Foundation; with no Invariant Sections, no Front-Cover Texts and
     no Back-Cover Texts.  A copy of the license is included in the
     section entitled "GNU Free Documentation License".
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc { font-variant:small-caps }
  span.roman { font-family: serif; font-weight: normal; } 
--></style>
</head>
<body>
<div class="node">
<p>
<a name="Filter-Modes"></a>Next:&nbsp;<a rel="next" accesskey="n" href="Data-Structures.html#Data-Structures">Data Structures</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Filter-Interface.html#Filter-Interface">Filter Interface</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="index.html#Top">Top</a>
<hr><br>
</div>

<h2 class="chapter">12 Filter Modeso</h2>

<p>Filter modes are the preferd way to specify combinations of
filters which are used regularily and thus abreviate aspell's
command line arguments.

   <p>A new filter mode is specified by a file named like the filter
new mode and prefixed by .amf (AspellModeFile). If such a file
is acessible by the path set via filter-path option Aspell
will try to load the contained mode specification <a rel="footnote" href="#fn-1" name="fnd-1"><sup>1</sup></a>.

<h3 class="section">12.1 Aspell Mode File</h3>

<p>The first key in the maode file has be the <code>mode</code> key. 
It is checked against the mode name part of the .amf file. 
If the <code>mode</code> key is missing mode file will be rejected.

   <p>The same holds for the <code>aspell</code> key which specifies the
verion(s) of aspell wich is(are) required by the filter.

   <p>If these two keys are followed by at least one <code>madgic</code> key
aspell will be able to select the entire mode from extention and
if required from contents of the file to spell implicitly.

   <p>The last key of the initial section is the <code>des[c[ription]]</code>
key. It gives a short description of the filter mode which will
displayed when type
<pre class="verbatim"> 
  aspell help
</pre>
This key again is required as it indicates the end of the
Aspell Mode File's header section. Any line following specifies
filters and their options required by the mode.

   <p>The only two keys valid are <code>filter</code> and <code>option</code>. 
The value of the <code>filter</code> key is equal to the value of aspell's
<code>[add|rem]-filter</code> option. The option key has to be followed by
the name of a valid aspell option and the corresponding values
<a rel="footnote" href="#fn-2" name="fnd-2"><sup>2</sup></a>.

<h4 class="subsection">12.1.1 MAGIC line format</h4>

<p>The value of the magic key consist of at least two fields separated
 by a`/' the first field specifes a magic expression used to verify
mode selection found by looking at the filename extention. The second
and any following field contain the file name extensions which may trigger
a selection of the mode.

   <p>The magic expression may be one of: &lt;empty&gt; or  &lt;nomagic&gt; if mode
selection should be base uppon file extentions only. In any other
case magic expression is a `:' separated list of three elements.

   <p>Thre the last element is assumed to be a valid extended possix regular
expression <a rel="footnote" href="#fn-3" name="fnd-3"><sup>3</sup></a>. 
It is checked against a maximum count of bytes. This maximum number of bytes
is given by the second element. 
The first is the number of bytes to skip from the file to spell before
trying to match regular expression. A value of 0 means the verry first
byte of the file.

   <p>For a commented example of Aspell mode files and their layout see <code>html.amf</code>

<!-- Following this comes the section ``Data Structures'' -->
<!-- *- end of new text -*- -->
<!-- The section ``Config Options'' was here -->
<div class="footnote">
<hr>
<h4>Footnotes</h4><p class="footnote"><small>[<a name="fn-1" href="#fnd-1">1</a>]</small> 
Any line beeing blank or containing a comment will be skiped</p>

   <p class="footnote"><small>[<a name="fn-2" href="#fnd-2">2</a>]</small> these may be empty if the option is of boolean type or
of list type and prefixed by rem-all</p>

   <p class="footnote"><small>[<a name="fn-3" href="#fnd-3">3</a>]</small> brackets may be specifed differntly eg: \( &lt;-&gt; ( </p>

   <p><hr></div>

   </body></html>

